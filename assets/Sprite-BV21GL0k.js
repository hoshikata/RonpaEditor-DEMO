import{a as w}from"./IconDelete-D526KsXi.js";import{U as x}from"./Upload-Ce91b9E3.js";import{_ as U}from"./Image-qa4RBVjT.js";import{F as $}from"./Fancy-yIkWhwTT.js";import{R as N}from"./Resource-CFQhZ-D1.js";import{u as S,s as A,B as C,k as P,i as V,h as m,q as j,o as l,c,a as _,F as q,m as E,w as L,d as e,e as i,y as T,p as z}from"./index-KCNCY3mu.js";import"./Aspect-BKhrBp5p.js";import"./useMouse-ba6CC7p7.js";import"./round-drag-indicator-DyUHpdXD.js";import"./Audio-CNFwkGRS.js";const G={class:"resource_container"},H={class:"resource"},J={class:"resource_footer"},K=["title"],oe={__name:"Sprite",setup(M){const g=S(),{characterReals:u,characterId:f}=A(g),{findData:h}=C(),{delItem:D,uploadItem:p,getDrag:y,dragItem:F,dropItem:B,fancy:o,setFancy:I,changeFancy:d}=P(),{t:k}=V("lang"),t=m(()=>h(u.value,f.value)??{}),R=m(()=>y(t.value.sprite));return(O,a)=>{var v;const b=j("visible");return l(),c("div",G,[_("div",H,[(l(!0),c(q,null,E(t.value.sprite??[],(s,n)=>(l(),z(N,{key:t.value.id+"_"+s.id,data:s,hasDrag:R.value,onDrag:r=>e(F)(t.value.sprite,...r,n),onDrop:r=>e(B)(t.value.sprite,r,n+1),onFancy:r=>e(I)(t.value.sprite,r),onAdd:r=>e(p)(t.value.sprite,n+1,[r]),onDel:r=>e(D)(t.value.sprite,n)},null,8,["data","hasDrag","onDrag","onDrop","onFancy","onAdd","onDel"]))),128))]),_("div",J,[L((l(),c("label",{class:"resource_plus",title:e(k)("button.new")},[i(e(w)),i(x,{class:"hidden",onUpload:a[0]||(a[0]=s=>e(p)(t.value.sprite,t.value.sprite.length,s)),multiple:!0})],8,K)),[[b,e(u).length]])]),i($,{open:e(o).open,"onUpdate:open":a[1]||(a[1]=s=>e(o).open=s),index:e(o).index,length:(v=t.value.sprite)==null?void 0:v.length,onPrev:a[2]||(a[2]=s=>e(d)(t.value.sprite,-1)),onNext:a[3]||(a[3]=s=>e(d)(t.value.sprite,1))},{default:T(()=>[i(U,{src:e(o).value,alt:e(o).value},null,8,["src","alt"])]),_:1},8,["open","index","length"])])}}};export{oe as default};
