import{_ as M,o as p,d as v,a as t,r as g,e as C,f as I,g as T,v as N,u as J,h as Q,i as $,j as X,k as Y,n,t as E,l as F,m as Z,p as P,q as A,F as z,s as D,x as ee,y as G,z as te,c as se,w as S,b as c,A as ae,B as le,C as K}from"./index-Ks3OFodO.js";import{W as ce}from"./Wrap-ZpZlTKw6.js";import{C as L}from"./Menu.vue_vue_type_style_index_0_scoped_a51af57a_lang-CK7BApVV.js";import{D as ne}from"./Dialog-B0E-Pf5x.js";import{M as oe}from"./Mark-Dfv5HA7y.js";const ie={name:"MdiExclamationThick"},de={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},re=t("path",{fill:"currentColor",d:"M10 3h4v11h-4zm0 18v-4h4v4z"},null,-1),ue=[re];function _e(a,h,m,f,o,l){return p(),v("svg",de,ue)}const pe=M(ie,[["render",_e]]),ve=["disabled","placeholder"],he={__name:"Input",props:{value:{type:[String,Number],default:""},disabled:{type:[Boolean],default:!1},placeholder:{type:[String],default:""}},emits:["update:value"],setup(a,{emit:h}){const m=a,f=h,o=g("");return C(o,l=>f("update:value",l)),C(()=>m.value,l=>o.value=l,{immediate:!0}),(l,d)=>{const r=I("verify");return T((p(),v("input",{"onUpdate:modelValue":d[0]||(d[0]=_=>o.value=_),disabled:a.disabled,placeholder:a.disabled?"":a.placeholder},null,8,ve)),[[N,o.value,void 0,{lazy:!0,trim:!0}],[r,void 0,void 0,{check:!0}]])}}},me=["disabled","placeholder"],fe={__name:"Select",props:{value:{type:[String,Number],default:""},disabled:{type:[Boolean],default:!1},placeholder:{type:[String],default:""}},emits:["update:value"],setup(a,{emit:h}){J(d=>({"6e6979d6":$(o).light.text}));const m=a,f=h,{colors:o}=Q(),l=g("");return C(l,d=>f("update:value",d)),C(()=>m.value,d=>l.value=d,{immediate:!0}),(d,r)=>{const _=I("verify");return T((p(),v("input",{class:"select","onUpdate:modelValue":r[0]||(r[0]=i=>l.value=i),disabled:a.disabled,placeholder:a.disabled?"":a.placeholder},null,8,me)),[[N,l.value,void 0,{lazy:!0,trim:!0}],[_,void 0,void 0,{check:!0}]])}}},k=M(fe,[["__scopeId","data-v-46c42cb6"]]),ye=["disabled","placeholder"],R={__name:"Textarea",props:{value:{type:[String,Number],default:""},disabled:{type:[Boolean],default:!1},placeholder:{type:[String],default:""}},emits:["update:value"],setup(a,{emit:h}){const m=a,f=h,o=g(null),l=g(""),d=r=>{if(!r.ctrlKey)return;const{selectionStart:_,selectionEnd:i}=o.value,U=l.value,y=U.slice(0,_),x=U.slice(_,i),u=U.slice(i);l.value=[y,"[",x,"]",u].join("")};return C(l,r=>f("update:value",r)),C(()=>m.value,r=>l.value=r,{immediate:!0}),(r,_)=>{const i=I("verify");return T((p(),v("textarea",{class:"scrollbar min-h-0 resize-none","onUpdate:modelValue":_[0]||(_[0]=U=>l.value=U),disabled:a.disabled,placeholder:a.disabled?"":a.placeholder,onKeydown:X(d,["q"]),ref_key:"textarea",ref:o},null,40,ye)),[[N,l.value,void 0,{lazy:!0,trim:!0}],[i,void 0,void 0,{check:!0}]])}}},xe=["disabled"],be={class:"whitespace-nowrap"},ke={__name:"Checkbox",props:{value:{type:[Number],default:0},disabled:{type:[Boolean],default:!1},title:{type:[String],default:""},box:{type:[String],default:""}},emits:["update:value"],setup(a,{emit:h}){const m=a,f=h,o=g(0);return C(o,l=>f("update:value",l)),C(()=>m.value,l=>o.value=l,{immediate:!0}),(l,d)=>(p(),v("label",{class:n(["inline-flex items-center",a.disabled?"cursor-auto":"cursor-pointer"])},[T(t("input",{class:n(["checkbox",a.box]),"onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),disabled:a.disabled,"true-value":1,"false-value":0,type:"checkbox"},null,10,xe),[[Y,o.value]]),t("span",be,E(a.title),1),F(l.$slots,"default",{},void 0,!0)],2))}},q=M(ke,[["__scopeId","data-v-4f8ea818"]]),we={class:"menu_list"},Ue={class:"contents"},Ce=["onClick"],Se={__name:"Menu",props:{positions:{type:[Object],default:null}},emits:["use","clear"],setup(a,{emit:h}){const m=a,f=h,{getClientRect:o}=Z(),l=g(null),d=[{title:"セリフ：主人公",type:""},{title:"セリフ：独り言",type:"",class:"!text-cyan-400 !dark:text-monolog"},{title:"セリフ：脇役",type:""},{title:"切り替え：背景",type:""},{title:"切り替え：BGM",type:""},{title:"演出：CG",type:""},{title:"演出：CG終了",type:""},{title:"演出：動画",type:""},{title:"演出：暗転",type:""},{title:"アナウンス",type:"",class:"!text-announce"},{title:"システム",type:"",class:"!text-announce"},{title:"削除",type:"",class:"!bg-red-500/50 !text-white hover:!bg-red-500/75"}],r=P(()=>{const{height:y}=o(document.documentElement),{height:x}=o(l.value),{x:u,y:w,width:B,height:e}=m.positions??{},s=(w??0)+(e??0)/2-(x??0)/2,j=(s<20?20:s)+"px",W=(y??0)-(x??0)-20+"px",H=`min(${j}, ${W})`,O=(u??0)+(B??0)+2+"px";return{top:H,left:O}}),_=P(()=>{const{x:y,y:x,width:u,height:w}=m.positions??{},B=(x??0)+(w??0)/2,e=(y??0)+(u??0)+3;return{top:B+"px",left:e+"px"}}),i=y=>{y.target.matches(".menu, .menu *")||f("clear",null)},U=y=>{f("use",{type:y}),f("clear",null)};return(y,x)=>{const u=I("visible");return T((p(),v("div",{class:"fixed inset-0 z-50 h-dvh w-dvw overflow-hidden",onClick:i},[t("div",{class:"menu_triangle",style:A(_.value)},null,4),t("div",{class:"menu scrollbar overflow-y-auto",style:A(r.value),ref_key:"menu",ref:l},[t("ul",we,[(p(),v(z,null,D(d,w=>t("li",Ue,[t("button",{class:n(["menu_item",w.class]),onClick:B=>U(w.type)},E(w.title),11,Ce)])),64))])],4)])),[[u,a.positions]])}}},$e=M(Se,[["__scopeId","data-v-a51af57a"]]),ge={__name:"Switch",props:{active:{type:[Boolean],default:!1}},setup(a){return(h,m)=>(p(),v("button",{class:n(["switch",{"bg-current":a.active}])},[t("span",{class:n(["-mt-0.1em",{"text-white":a.active}])},[F(h.$slots,"default",{},void 0,!0)],2)],2))}},V=M(ge,[["__scopeId","data-v-8bd1e4e9"]]),b=a=>(ae("data-v-124268f0"),a=a(),le(),a),Be={class:"side_list"},Me={class:"flex"},Te=["onClick","title"],Ie={class:"chapter_head"},Ve={class:"mr-8 grid xl:mr-0"},ze=["title"],Ee=b(()=>t("span",{class:"chapter_head_number"},"01.png",-1)),De={class:"mt-auto flex justify-end gap-2"},Ne=b(()=>t("p",{class:"chapter_head_desc"},[K("目が覚めたら見知らぬ教室、辺るは水族館のような不思議な光景…自己紹介した後、どこから来た「モノカイ」と自称するぬいぐるみは俺たちをここでコロシアイ学園生活を強いられた。ここから脱出する条件は一つ――誰にばれないように殺人をすることだった。"),t("br"),K("目が覚めたら見知らぬ教室、辺るは水族館のような不思議な光景…自己紹介した後、どこから来た「モノカイ」と自称するぬいぐるみは俺たちをここでコロシアイ学園生活を強いられた。ここから脱出する条件は一つ――誰にばれないように殺人をすることだった。")],-1)),je={class:"chapter_log"},Pe=b(()=>t("div",{class:"chapter_log_tr -lock"},[t("div",{class:"chapter_log_th ml-16"},"セリフ＆切り替え＆演出"),t("div",{class:"ml-4 w-8 shrink-0"})],-1)),Ae=b(()=>t("div",{class:"chapter_log_tr_2 -lock"},[t("div",{class:"chapter_log_th -col"},"話し手．主人公差分＆エフェクト"),t("div",{class:"chapter_log_th -col"},"脇役．差分＆エフェクト"),t("div",{class:"chapter_log_th -col"},"SE"),t("div",{class:"chapter_log_th -col"},"ボイス"),t("div",{class:"chapter_log_th -col"},"備考")],-1)),Ge={key:0,class:"contents"},Ke={class:"chapter_log_tr"},Le={class:"chapter_log_avatar"},Re=["src"],qe={class:"chapter_log_switches"},Fe=b(()=>t("span",{class:"dark:text-dark-wrap"},"R",-1)),We=b(()=>t("span",{class:"dark:text-dark-wrap"},"U",-1)),He=b(()=>t("span",{class:"dark:text-dark-wrap"},"S",-1)),Oe={class:"chapter_log_tr_2"},Je={class:"chapter_log_td -col"},Qe={class:"chapter_log_td -col"},Xe={class:"chapter_log_td -col"},Ye={class:"chapter_log_td -col"},Ze={class:"chapter_log_td -col"},et={key:1,class:"contents"},tt={class:"chapter_log_tr"},st={class:"chapter_log_scene"},at=b(()=>t("div",{class:"ml-3 w-8 shrink-0"},null,-1)),lt={class:"chapter_log_tr_2"},ct=b(()=>t("div",{class:"chapter_log_td -col"},null,-1)),nt=b(()=>t("div",{class:"chapter_log_td -col"},null,-1)),ot=b(()=>t("div",{class:"chapter_log_td -col"},null,-1)),it=b(()=>t("div",{class:"chapter_log_td -col"},null,-1)),dt={class:"chapter_log_td -col"},rt={__name:"Chapters",setup(a){const h=ee(),{characterList:m}=G(h),f=te(),{chapterIndex:o,chapterNames:l,chapterTitle:d,chapterData:r}=G(f),_=u=>m.value.find(w=>(u.人物??"")===w.name)??{},i=u=>({"!bg-secondary !text-black/60 dark:!text-neutral-800/60":!!u}),U=u=>u.is_solo?"monolog":u.is_announce?"announce":"",y=g(null),x=u=>y.value=u;return(u,w)=>{const B=I("visible");return p(),se(ce,null,{side:S(()=>[t("ul",Be,[(p(!0),v(z,null,D($(l),(e,s)=>(p(),v("li",Me,[c(oe,{class:"mt-0.6em bg-current/10",active:s===$(o)},null,8,["active"]),t("button",{class:n(["side_item",{"side_item-active":s===$(o)}]),onClick:j=>o.value=s,title:e},E(e),11,Te)]))),256))])]),main_head:S(()=>[t("div",Ie,[t("div",Ve,[t("h1",{class:"chapter_head_title",title:$(d)},E($(d)),9,ze),Ee,t("div",De,[c(V,{class:"bg-keyword text-keyword-dark"},{default:S(()=>[c(pe,{class:"mt-0.1em"})]),_:1})])]),Ne])]),default:S(()=>[t("div",je,[Pe,Ae,(p(!0),v(z,null,D($(r),e=>(p(),v(z,null,[e.is_dialog?(p(),v("div",Ge,[t("div",Ke,[t("div",{class:n(["chapter_log_td flex px-2",{"bg-secondary/60":e.is_selected}])},[c(q,{class:"mr-1 shrink-0",value:e.is_selected,"onUpdate:value":s=>e.is_selected=s},null,8,["value","onUpdate:value"]),c(L,{class:"shrink-0",onMore:x,hasDel:!1,hasAdd:!1}),t("div",{class:n(["chapter_log_info",{"flex-row-reverse":_(e).is_hero,"-replay":e.is_replay}])},[T((p(),v("div",Le,[t("img",{src:_(e).image_head},null,8,Re)])),[[B,_(e).image_head]]),t("div",{class:n(["chapter_log_dialog",{"-hero":_(e).is_hero}])},[c(ne,{class:"my-auto w-full",value:e.對白,type:U(e)},null,8,["value","type"]),c(R,{class:"chapter_log_dialog_input",value:e.對白,"onUpdate:value":s=>e.對白=s},null,8,["value","onUpdate:value"])],2)],2)],2),t("div",qe,[c(V,{class:n(["chapter_log_switch",{"text-replay":e.is_replay}]),onClick:s=>e.is_replay=!e.is_replay,active:e.is_replay},{default:S(()=>[Fe]),_:2},1032,["onClick","active","class"]),c(V,{class:n(["chapter_log_switch",{"text-unknown":e.is_unknown}]),onClick:s=>e.is_unknown=!e.is_unknown,active:e.is_unknown},{default:S(()=>[We]),_:2},1032,["onClick","active","class"]),c(V,{class:n(["chapter_log_switch",{"text-monolog-dark dark:text-monolog":e.is_solo}]),onClick:s=>e.is_solo=!e.is_solo,active:e.is_solo},{default:S(()=>[He]),_:2},1032,["onClick","active","class"])])]),t("div",Oe,[t("div",Je,[c(k,{class:n(["-inner col-span-2",i(e.人物)]),value:e.人物,"onUpdate:value":s=>e.人物=s},null,8,["value","onUpdate:value","class"]),c(k,{class:n(["-inner",i(e.十六夜差分)]),value:e.十六夜差分,"onUpdate:value":s=>e.十六夜差分=s},null,8,["value","onUpdate:value","class"]),c(k,{class:n(["-inner",i(e.主角特效)]),value:e.主角特效,"onUpdate:value":s=>e.主角特效=s},null,8,["value","onUpdate:value","class"])]),t("div",Qe,[c(k,{class:n(["-inner col-span-2",i(e.顯示角色)]),value:e.顯示角色,"onUpdate:value":s=>e.顯示角色=s},null,8,["value","onUpdate:value","class"]),c(k,{class:n(["-inner",i(e.角色差分)]),value:e.角色差分,"onUpdate:value":s=>e.角色差分=s},null,8,["value","onUpdate:value","class"]),c(k,{class:n(["-inner",i(e.差分特效)]),value:e.差分特效,"onUpdate:value":s=>e.差分特效=s},null,8,["value","onUpdate:value","class"])]),t("div",Xe,[c(k,{class:n(["-inner",i(e.SE)]),value:e.SE,"onUpdate:value":s=>e.SE=s},null,8,["value","onUpdate:value","class"])]),t("div",Ye,[c(k,{class:n(["-inner",i(e.Voice)]),value:e.Voice,"onUpdate:value":s=>e.Voice=s},null,8,["value","onUpdate:value","class"])]),t("div",Ze,[c(R,{class:n(["-inner",i(e.備註)]),value:e.備註,"onUpdate:value":s=>e.備註=s},null,8,["value","onUpdate:value","class"])])])])):(p(),v("div",et,[t("div",tt,[t("div",{class:n(["chapter_log_td flex px-2",{"bg-secondary/60":e.is_selected}])},[c(q,{class:"mr-1 shrink-0",value:e.is_selected,"onUpdate:value":s=>e.is_selected=s},null,8,["value","onUpdate:value"]),c(L,{class:"shrink-0",onMore:x,hasDel:!1,hasAdd:!1}),t("div",st,[c(k,{value:e.人物,"onUpdate:value":s=>e.人物=s},null,8,["value","onUpdate:value"]),c(k,{value:e.show,"onUpdate:value":s=>e.show=s},null,8,["value","onUpdate:value"]),c(k,{value:e.show_name,"onUpdate:value":s=>e.show_name=s},null,8,["value","onUpdate:value"])])],2),at]),t("div",lt,[ct,nt,ot,it,t("div",dt,[c(he,{class:n(["-inner",i(e.備註)]),value:e.備註,"onUpdate:value":s=>e.備註=s},null,8,["value","onUpdate:value","class"])])])]))],64))),256))]),c($e,{positions:y.value,onClear:x},null,8,["positions"])]),_:1})}}},mt=M(rt,[["__scopeId","data-v-124268f0"]]);export{mt as default};
