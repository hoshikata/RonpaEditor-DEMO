import{a as w}from"./IconDelete-Sjud7laH.js";import{U as x}from"./Upload-BsiPtqRv.js";import{_ as U}from"./Image-Bn05j1uW.js";import{F as $}from"./Fancy-BPAg2AG3.js";import{R as N}from"./Resource-CTxOae_G.js";import{u as S,s as A,y as C,k as P,i as V,h as m,q as j,o as l,c,a as _,F as q,m as z,w as E,d as e,e as i,z as L,p as T}from"./index-CXH-8nV4.js";import"./Aspect-CVcG_GD9.js";import"./useMouse-GwYX7KgS.js";import"./round-drag-indicator-DfNWITTZ.js";import"./Audio-C1vxi4tb.js";const G={class:"resource_container"},H={class:"resource"},J={class:"resource_footer"},K=["title"],oe={__name:"Sprite",setup(M){const g=S(),{characterReals:u,characterId:f}=A(g),{findData:h}=C(),{delItem:D,uploadItem:p,getDrag:y,dragItem:F,dropItem:I,fancy:o,setFancy:k,changeFancy:d}=P(),{t:B}=V("lang"),t=m(()=>h(u.value,f.value)??{}),R=m(()=>y(t.value.sprite));return(O,a)=>{var v;const b=j("visible");return l(),c("div",G,[_("div",H,[(l(!0),c(q,null,z(t.value.sprite??[],(s,n)=>(l(),T(N,{key:t.value.id+"_"+s.id,data:s,hasDrag:R.value,onDrag:r=>e(F)(t.value.sprite,...r,n),onDrop:r=>e(I)(t.value.sprite,r,n+1),onFancy:r=>e(k)(t.value.sprite,r),onAdd:r=>e(p)(t.value.sprite,n+1,[r]),onDel:r=>e(D)(t.value.sprite,n)},null,8,["data","hasDrag","onDrag","onDrop","onFancy","onAdd","onDel"]))),128))]),_("div",J,[E((l(),c("label",{class:"resource_plus",title:e(B)("button.new")},[i(e(w)),i(x,{class:"hidden",onUpload:a[0]||(a[0]=s=>e(p)(t.value.sprite,t.value.sprite.length,s)),multiple:!0})],8,K)),[[b,e(u).length]])]),i($,{open:e(o).open,"onUpdate:open":a[1]||(a[1]=s=>e(o).open=s),index:e(o).index,length:(v=t.value.sprite)==null?void 0:v.length,onPrev:a[2]||(a[2]=s=>e(d)(t.value.sprite,-1)),onNext:a[3]||(a[3]=s=>e(d)(t.value.sprite,1))},{default:L(()=>[i(U,{src:e(o).value,alt:e(o).value},null,8,["src","alt"])]),_:1},8,["open","index","length"])])}}};export{oe as default};
