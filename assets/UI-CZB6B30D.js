import{a as Y}from"./IconDelete-CJ2MkJpE.js";import{U as G,I as ie}from"./UiItem-D-rzUE-A.js";import{_ as L,o as h,c as b,a as e,r as ee,g as M,F as C,y as S,w as A,Q as _e,t as g,b as te,s as ae,p as se,i as oe,j as T,x as de,e as o,C as D,d as n,z as le,v as Q,K as ne,L as ue,B as W,D as Z}from"./index-CyJrGj8D.js";import{_ as pe,S as J}from"./Dialog-CESR4OxB.js";import{_ as re}from"./Image-DSnKcMXH.js";import{U as ce}from"./Upload-BqinWinQ.js";import{R as F,F as X}from"./Resource-DB9TBROo.js";import{R as U}from"./Range-Rdt3blBJ.js";import{A as ve}from"./Aspect-BTyVbZIs.js";import"./round-drag-indicator-BvIf1Phh.js";const ge={name:"PhCopyFill"},he={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},me=e("path",{fill:"currentColor",d:"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-8 128h-32V88a8 8 0 0 0-8-8H96V48h112Z"},null,-1),fe=[me];function be(d,$,m,c,v,i){return h(),b("svg",he,fe)}const Ue=L(ge,[["render",be]]),ye={class:"flex"},$e=["value","name"],we={class:"radio_text"},Ie={__name:"Radio",props:{value:{type:[Number,String,Boolean],default:""},list:{type:[Array],default:()=>[]},name:{type:[String],default:""}},emits:["update:value"],setup(d,{emit:$}){const m=d,c=$,v=ee("");return M(v,i=>c("update:value",i)),M(()=>m.value,i=>v.value=i,{immediate:!0}),(i,y)=>(h(),b("div",ye,[(h(!0),b(C,null,S(d.list,_=>(h(),b("label",{key:d.name+"_"+((_==null?void 0:_.id)??_),class:"group flex items-center"},[A(e("input",{class:"radio","onUpdate:modelValue":y[0]||(y[0]=B=>v.value=B),value:(_==null?void 0:_.id)??_,name:d.name,type:"radio"},null,8,$e),[[_e,v.value]]),e("span",we,g((_==null?void 0:_.title)??(_==null?void 0:_.name)??(_==null?void 0:_.id)??_),1)]))),128))]))}},I=L(Ie,[["__scopeId","data-v-5f3c0411"]]),u=d=>(ne("data-v-b6627395"),d=d(),ue(),d),De={class:"popup_window"},xe={class:"popup_container scrollbar"},ke={class:"popup_side"},Fe={class:"contents"},Ce=u(()=>e("label",null,"名前",-1)),Se={class:"contents"},Be={class:"popup_plus_group"},Re=u(()=>e("label",null,"画像",-1)),Ve={class:"popup_plus",title:"新規"},Ae={class:"popup_images_group"},Le={class:"contents"},Ne=u(()=>e("label",null,"クリッピング",-1)),je={class:"popup_images_group"},Ee=u(()=>e("h5",{class:"popup_title"},"ダイアログ",-1)),Pe={class:"contents"},He=u(()=>e("label",null,"位置：下",-1)),Oe={class:"popup_range_group"},qe={class:"contents"},Ge=u(()=>e("label",null,"位置：左",-1)),Me={class:"popup_range_group"},Te={class:"contents"},ze=u(()=>e("label",null,"広さ",-1)),Ke={class:"popup_range_group"},Qe=u(()=>e("h5",{class:"popup_title"},"名札",-1)),We={class:"contents"},Ze=u(()=>e("label",null,"数",-1)),Je={class:"contents"},Xe=u(()=>e("label",null,"独り言の表示",-1)),Ye={class:"contents"},et=u(()=>e("label",null,"独り言の位置",-1)),tt={class:"contents"},at=u(()=>e("label",null,"主人公の位置",-1)),st={class:"contents"},ot=u(()=>e("label",null,"立ち絵1の位置",-1)),lt={class:"contents"},nt=u(()=>e("label",null,"立ち絵2の位置",-1)),ut={class:"contents"},it={class:"popup_subtitle"},_t={class:"contents"},dt=u(()=>e("label",null,"画像",-1)),pt={class:"popup_images_group"},rt={class:"contents"},ct=u(()=>e("label",null,"位置：下",-1)),vt={class:"popup_range_group"},gt={class:"contents"},ht=u(()=>e("label",null,"位置：左",-1)),mt={class:"popup_range_group"},ft={class:"contents"},bt=u(()=>e("label",null,"高さ",-1)),Ut={class:"popup_range_group"},yt=u(()=>e("h5",{class:"popup_title"},"立ち絵",-1)),$t={class:"contents"},wt=u(()=>e("label",null,"数",-1)),It={class:"contents"},Dt={class:"popup_subtitle"},xt={class:"contents"},kt=u(()=>e("label",null,"クリッピング",-1)),Ft={class:"popup_images_group"},Ct={class:"contents"},St=u(()=>e("label",null,"位置：上",-1)),Bt={class:"popup_range_group"},Rt={class:"contents"},Vt=u(()=>e("label",null,"位置：左",-1)),At={class:"popup_range_group"},Lt={class:"contents"},Nt=u(()=>e("label",null,"広さ",-1)),jt={class:"popup_range_group"},Et=u(()=>e("button",{class:"popup_foot_button -cancel"},"キャンセル",-1)),Pt={__name:"UiEdit",props:{open:{type:[Boolean],default:!1},id:{type:[Number,String],default:""}},emits:["update:open","add","fancy"],setup(d,{emit:$}){const m=d,c=$,v=te(),{newUI:i}=v,{uiList:y}=ae(v),{isDev:_,copyObject:B,findData:R}=se(),{delItem:j,uploadItem:E,getDrag:P,dragItem:H,dropItem:x,fancy:z,setFancy:O,changeFancy:K}=oe(),a=ee({dialog:{},sprite_1:{},sprite_2:{},name_tag_1:{},name_tag_2:{}}),w=T(()=>P(a.value.images)),f=[{id:!1,name:"左"},{id:!0,name:"右"}],q=()=>{const r=R(y.value,m.id);m.id==="add"?y.value.push(a.value):a.value=Object.assign(r,a.value),c("update:open",!1)},V=r=>{const s=r.target.matches(".popup_window, .popup_window *"),k=r.target.matches(".-cancel");!r.target.matches(".resource_button")&&(!s||k)&&c("update:open",!1)};return M(()=>m.open,r=>{if(!r)return;const s=R(y.value,m.id);m.id==="add"?a.value=i():a.value=B(s),_&&console.log({...a.value})}),(r,s)=>{const k=de("visible");return A((h(),b("section",{class:"popup",onClick:V},[e("div",De,[e("div",xe,[o(ve,{class:"popup_aspect !h-cqh lg:!h-[calc(100cqw/16*9)]"},{default:D(()=>[o(G,{class:"border border-current",data:a.value,large:!0,edit:!0},null,8,["data"])]),_:1}),e("section",ke,[e("div",Fe,[Ce,o(pe,{class:"popup_input",value:a.value.name,"onUpdate:value":s[0]||(s[0]=t=>a.value.name=t)},null,8,["value"])]),e("div",Se,[e("div",Be,[Re,e("label",Ve,[o(n(Y)),o(ce,{class:"hidden",onUpload:s[1]||(s[1]=t=>n(E)(a.value.images,a.value.images.length,t)),multiple:!0})])]),e("div",Ae,[(h(!0),b(C,null,S(a.value.images??[],(t,l)=>(h(),le(F,{key:t.id,data:t,hasDrag:w.value,onDrag:p=>n(H)(a.value.images,...p,l),onDrop:p=>n(x)(a.value.images,p,l+1),onFancy:s[2]||(s[2]=p=>c("fancy",p)),onDel:p=>n(j)(a.value.images,l)},null,8,["data","hasDrag","onDrag","onDrop","onDel"]))),128))])]),e("div",Le,[Ne,e("div",je,[o(F,{data:{path:a.value.mask},draggable:!1,onUpload:s[3]||(s[3]=t=>a.value.mask=t.path),onDel:s[4]||(s[4]=t=>a.value.mask=""),onFancy:s[5]||(s[5]=t=>c("fancy",t))},null,8,["data"])])]),Ee,e("div",Pe,[He,e("div",Oe,[o(U,{value:a.value.dialog.bottom,"onUpdate:value":s[6]||(s[6]=t=>a.value.dialog.bottom=t),min:-100,max:100,step:1},null,8,["value"]),e("span",null,g(a.value.dialog.bottom),1)])]),e("div",qe,[Ge,e("div",Me,[o(U,{value:a.value.dialog.left,"onUpdate:value":s[7]||(s[7]=t=>a.value.dialog.left=t),min:-100,max:100,step:1},null,8,["value"]),e("span",null,g(a.value.dialog.left),1)])]),e("div",Te,[ze,e("div",Ke,[o(U,{value:a.value.dialog.width,"onUpdate:value":s[8]||(s[8]=t=>a.value.dialog.width=t),min:50,max:100,step:1},null,8,["value"]),e("span",null,g(a.value.dialog.width),1)])]),Qe,e("div",We,[Ze,o(I,{value:a.value.name_tag_number,"onUpdate:value":s[9]||(s[9]=t=>a.value.name_tag_number=t),list:[1,2],name:"name_tag"},null,8,["value"])]),e("div",Je,[Xe,o(I,{value:a.value.name_tag_solo_show,"onUpdate:value":s[10]||(s[10]=t=>a.value.name_tag_solo_show=t),list:[{id:!1,name:"非表示"},{id:!0,name:"表示"}],name:"name_tag_solo_show"},null,8,["value"])]),e("div",Ye,[et,o(I,{value:a.value.name_tag_solo_right,"onUpdate:value":s[11]||(s[11]=t=>a.value.name_tag_solo_right=t),list:f,name:"name_tag_solo_right"},null,8,["value"])]),e("div",tt,[at,o(I,{value:a.value.name_tag_hero_right,"onUpdate:value":s[12]||(s[12]=t=>a.value.name_tag_hero_right=t),list:f,name:"name_tag_hero_right"},null,8,["value"])]),e("div",st,[ot,o(I,{value:a.value.name_tag_sprite_1_right,"onUpdate:value":s[13]||(s[13]=t=>a.value.name_tag_sprite_1_right=t),list:f,name:"name_tag_sprite_1_right"},null,8,["value"])]),e("div",lt,[nt,o(I,{value:a.value.name_tag_sprite_2_right,"onUpdate:value":s[14]||(s[14]=t=>a.value.name_tag_sprite_2_right=t),list:f,name:"name_tag_sprite_2_right"},null,8,["value"])]),(h(),b(C,null,S(2,t=>A(e("div",ut,[e("h6",it,"名札"+g(t),1),e("div",_t,[dt,e("div",pt,[o(F,{data:{path:a.value["name_tag_"+t].path},draggable:!1,onUpload:l=>a.value["name_tag_"+t].path=l.path,onDel:l=>a.value["name_tag_"+t].path="",onFancy:s[15]||(s[15]=l=>c("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",rt,[ct,e("div",vt,[o(U,{value:a.value["name_tag_"+t].bottom,"onUpdate:value":l=>a.value["name_tag_"+t].bottom=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["name_tag_"+t].bottom),1)])]),e("div",gt,[ht,e("div",mt,[o(U,{value:a.value["name_tag_"+t].left,"onUpdate:value":l=>a.value["name_tag_"+t].left=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["name_tag_"+t].left),1)])]),e("div",ft,[bt,e("div",Ut,[o(U,{value:a.value["name_tag_"+t].height,"onUpdate:value":l=>a.value["name_tag_"+t].height=l,min:1,max:20,step:.5},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["name_tag_"+t].height),1)])])],512),[[Q,t===1||t===2&&a.value.name_tag_number===2]])),64)),yt,e("div",$t,[wt,o(I,{value:a.value.sprite_number,"onUpdate:value":s[16]||(s[16]=t=>a.value.sprite_number=t),list:[1,2],name:"sprite"},null,8,["value"])]),(h(),b(C,null,S(2,t=>A(e("div",It,[e("h6",Dt,"立ち絵"+g(t),1),e("div",xt,[kt,e("div",Ft,[o(F,{data:{path:a.value["sprite_"+t].mask},draggable:!1,onUpload:l=>a.value["sprite_"+t].mask=l.path,onDel:l=>a.value["sprite_"+t].mask="",onFancy:s[17]||(s[17]=l=>c("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",Ct,[St,e("div",Bt,[o(U,{value:a.value["sprite_"+t].top,"onUpdate:value":l=>a.value["sprite_"+t].top=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["sprite_"+t].top),1)])]),e("div",Rt,[Vt,e("div",At,[o(U,{value:a.value["sprite_"+t].left,"onUpdate:value":l=>a.value["sprite_"+t].left=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["sprite_"+t].left),1)])]),e("div",Lt,[Nt,e("div",jt,[o(U,{value:a.value["sprite_"+t].width,"onUpdate:value":l=>a.value["sprite_"+t].width=l,min:20,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["sprite_"+t].width),1)])])],512),[[Q,t===1||t===2&&a.value.sprite_number===2]])),64)),e("div",{class:"popup_foot"},[e("button",{class:"popup_foot_button",onClick:q},"保存"),Et])])])])])),[[k,d.open]])}}},Ht=L(Pt,[["__scopeId","data-v-b6627395"]]),N=d=>(ne("data-v-5711d6bc"),d=d(),ue(),d),Ot={class:"resource_container"},qt={class:"resource"},Gt=["onClick"],Mt=["onClick"],Tt={class:"resource_footer"},zt={class:"resource_group !flex-wrap !gap-x-5"},Kt={class:"resource_group"},Qt=N(()=>e("span",null,"デフォルトUI",-1)),Wt=N(()=>e("option",{value:""},"なし",-1)),Zt={class:"resource_group"},Jt=N(()=>e("span",null,"CGのUI設定",-1)),Xt=N(()=>e("option",{value:""},"固定なし",-1)),Yt={__name:"UI",setup(d){const $=te(),{newUI:m}=$,{defaultUI:c,defaultUIForCG:v,uiList:i}=ae($),{copyObject:y,findData:_,findIndex:B}=se(),{delItem:R,uploadItem:j,getDrag:E,dragItem:P,dropItem:H,fancy:x,setFancy:z,changeFancy:O}=oe(),K=T(()=>E(i.value)),a=T(()=>_(i.value,x.value)),w=W({open:!1,id:""}),f=W({open:!1,value:""}),q=r=>{const s=y(i.value[r]);s.id=m(i.value),i.value.splice(r,0,s)},V=r=>{w.id=r,w.open=!0};return(r,s)=>{var k;return h(),b("div",Ot,[e("div",qt,[(h(!0),b(C,null,S(n(i)??[],(t,l)=>(h(),le(F,{key:t.id,data:t,hasDrag:K.value,onDrag:p=>n(P)(n(i),...p,l),onDrop:p=>n(H)(n(i),p,l+1),onFancy:p=>n(z)(n(i),t.id,"id"),onAdd:p=>n(j)(n(i),l+1,[p]),onDel:p=>n(R)(n(i),l)},{image:D(()=>[o(G,{class:"hover:opacity-75",data:t,edit:!0},null,8,["data"])]),button:D(()=>[e("label",{class:"resource_button",onClick:p=>q(l),title:"コピー"},[o(Ue,{class:"mt-0.5"})],8,Gt),e("label",{class:"resource_button",onClick:p=>V(t.id),title:"編集"},[o(ie,{class:"mt-0.5"})],8,Mt)]),_:2},1032,["data","hasDrag","onDrag","onDrop","onFancy","onAdd","onDel"]))),128))]),e("div",Tt,[e("div",zt,[e("label",Kt,[Qt,o(J,{class:"resource_select",value:n(c),"onUpdate:value":s[0]||(s[0]=t=>Z(c)?c.value=t:null),options:n(i)},{default:D(()=>[Wt]),_:1},8,["value","options"])]),e("label",Zt,[Jt,o(J,{class:"resource_select",value:n(v),"onUpdate:value":s[1]||(s[1]=t=>Z(v)?v.value=t:null),options:n(i)},{default:D(()=>[Xt]),_:1},8,["value","options"])])]),e("label",{class:"resource_plus",onClick:s[2]||(s[2]=t=>V("add")),title:"新規"},[o(n(Y))])]),o(Ht,{open:w.open,"onUpdate:open":s[3]||(s[3]=t=>w.open=t),id:w.id,onFancy:s[4]||(s[4]=t=>{f.value=t,f.open=!0})},null,8,["open","id"]),o(X,{open:f.open,"onUpdate:open":s[5]||(s[5]=t=>f.open=t)},{default:D(()=>[o(re,{src:f.value},null,8,["src"])]),_:1},8,["open"]),o(X,{open:n(x).open,"onUpdate:open":s[6]||(s[6]=t=>n(x).open=t),index:n(x).index,length:(k=n(i))==null?void 0:k.length,onPrev:s[7]||(s[7]=t=>n(O)(n(i),-1,"id")),onNext:s[8]||(s[8]=t=>n(O)(n(i),1,"id"))},{default:D(()=>[o(G,{data:a.value,large:!0,edit:!0},null,8,["data"])]),_:1},8,["open","index","length"])])}}},da=L(Yt,[["__scopeId","data-v-5711d6bc"]]);export{da as default};
