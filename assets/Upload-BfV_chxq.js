import{a as g,I as y}from"./IconDelete-Bb2hnSld.js";import{_ as h}from"./Image-BEGzBmzy.js";import{p as U,_,x,o as v,c as b,a as d,e as p,d as B,n as m,w as L}from"./index-BQ2Xw64U.js";function F(){const{findData:l}=U(),r=(e,s)=>{const t=s.replace(/\s/g,"").toLowerCase().split(","),a=e.name.slice(e.name.lastIndexOf(".")).toLowerCase();return s!==""?t.includes(a):!0},i=e=>e instanceof Blob;return{isFileType:r,isBlobFile:i,blobUrl:(e,s)=>{const t=a=>a.slice(-1)==="/"?"":a;return i(e)?URL.createObjectURL(e):t(s??"")},getFileName:e=>{var t;e=e??"";const s=(t=e.lastIndexOf)==null?void 0:t.call(e,"/");return i(e)||s===-1?e:e.slice(s).slice(1)},getFilesData:(e,s)=>{const t=s.filter(o=>!o.id),a=e.filter(o=>!l(s,o.id)).map(o=>o.name),c=e.filter(o=>l(s,o.id));return{addList:t,delList:a,resultList:c}}}}const I=["accept","multiple"],C={class:"upload_image"},w={__name:"Upload",props:{value:{type:[String],default:""},name:{type:[String],default:""},type:{type:[String],default:"contain"},accept:{type:[String],default:"image/*"},multiple:{type:[Boolean],default:!1},disabled:{type:[Boolean],default:!1}},emits:["update:value","update:name","upload"],setup(l,{emit:r}){const{blobUrl:i}=F(),f=l,n=r,u=t=>window.electron?t.path:i(t,""),e=t=>{const a=t.target.files;if(f.multiple){const c=[...a].map(o=>({path:u(o),name:o.name}));n("upload",c)}else{const c=u(a[0]);n("update:value",c),n("update:name",a[0].name),n("upload",{path:c,name:a[0].name})}},s=()=>n("update:value","");return(t,a)=>{const c=x("visible");return v(),b("div",{class:m(["upload group",{"pointer-events-none":l.disabled}])},[d("label",{class:m(["upload_input",{"opacity-0":l.value}])},[p(B(g)),d("input",{class:"hidden",onChange:e,type:"file",accept:l.accept,multiple:l.multiple},null,40,I)],2),L((v(),b("div",C,[p(h,{class:m(["size-full",l.type==="cover"?"object-cover":"object-contain"]),src:l.value},null,8,["src","class"]),d("button",{class:"upload_remove",onClick:s,title:"削除画像"},[p(y)])])),[[c,l.value]])],2)}}},k=_(w,[["__scopeId","data-v-66334815"]]);export{k as U};
