import{a as Y}from"./IconDelete-CM9QQTRB.js";import{U as G,I as ue}from"./UiItem-VuEOLjFg.js";import{_ as j,o as h,c as b,a as e,r as ee,g as M,F as S,m as B,w as F,T as _e,t as v,b as se,s as te,q as ae,i as oe,j as J,l as ie,e as o,x as D,d as n,p as le,v as N,J as ne,K as pe,A as Z,B as z}from"./index-GgZyHVIS.js";import{_ as de,S as Q}from"./Dialog-CAEu5fnh.js";import{_ as ce}from"./Image-DllgFEiN.js";import{U as re}from"./Upload-Hp4lClIz.js";import{R as C,F as X}from"./Resource-CActskSu.js";import{R as U}from"./Range-DcbJxacW.js";import{A as ve}from"./Aspect-BQopONYc.js";import"./round-drag-indicator-D4t6_zr_.js";const ge={name:"PhCopyFill"},he={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},me=e("path",{fill:"currentColor",d:"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-8 128h-32V88a8 8 0 0 0-8-8H96V48h112Z"},null,-1),fe=[me];function be(i,y,f,r,g,u){return h(),b("svg",he,fe)}const Ue=j(ge,[["render",be]]),$e={class:"flex"},ye=["value","name"],we={class:"radio_text"},Ie={__name:"Radio",props:{value:{type:[Number,String,Boolean],default:""},list:{type:[Array],default:()=>[]},name:{type:[String],default:""}},emits:["update:value"],setup(i,{emit:y}){const f=i,r=y,g=ee("");return M(g,u=>r("update:value",u)),M(()=>f.value,u=>g.value=u,{immediate:!0}),(u,$)=>(h(),b("div",$e,[(h(!0),b(S,null,B(i.list,_=>(h(),b("label",{key:i.name+"_"+((_==null?void 0:_.id)??_),class:"group flex items-center"},[F(e("input",{class:"radio","onUpdate:modelValue":$[0]||($[0]=R=>g.value=R),value:(_==null?void 0:_.id)??_,name:i.name,type:"radio"},null,8,ye),[[_e,g.value]]),e("span",we,v((_==null?void 0:_.title)??(_==null?void 0:_.name)??(_==null?void 0:_.id)??_),1)]))),128))]))}},I=j(Ie,[["__scopeId","data-v-3267ec6c"]]),p=i=>(ne("data-v-3c06d7ea"),i=i(),pe(),i),De={class:"popup_window"},xe={class:"popup_container scrollbar"},ke={class:"popup_side"},Fe={class:"contents"},Ce=p(()=>e("h6",{class:"popup_label"},"名前",-1)),Se={class:"contents"},Be={class:"popup_plus_group"},Re=p(()=>e("h6",{class:"popup_label"},"画像",-1)),Ae={class:"popup_plus",title:"新規"},Ve={class:"popup_images_group"},Ne={class:"contents"},je=p(()=>e("h6",{class:"popup_label"},v(`背景ぼかし
クリッピング`),-1)),Ee={class:"popup_images_group"},Le=p(()=>e("hr",{class:"popup_hr"},null,-1)),Pe=p(()=>e("h4",{class:"popup_title"},"ダイアログ",-1)),qe={class:"contents"},He=p(()=>e("h6",{class:"popup_label"},"位置：下",-1)),Oe={class:"popup_range_group"},Te={class:"contents"},Ge=p(()=>e("h6",{class:"popup_label"},"位置：左",-1)),Me={class:"popup_range_group"},Je={class:"contents"},Ke=p(()=>e("h6",{class:"popup_label"},"広さ",-1)),We={class:"popup_range_group"},Ze=p(()=>e("hr",{class:"popup_hr"},null,-1)),ze=p(()=>e("h4",{class:"popup_title"},"名札",-1)),Qe={class:"contents"},Xe=p(()=>e("h6",{class:"popup_label"},"名札の数",-1)),Ye={class:"contents"},es=p(()=>e("h6",{class:"popup_label"},"独り言の表示",-1)),ss={class:"contents"},ts=p(()=>e("h5",{class:"popup_subtitle"},"名札の位置",-1)),as={class:"contents"},os=p(()=>e("h6",{class:"popup_label"},"独り言",-1)),ls={class:"contents"},ns=p(()=>e("h6",{class:"popup_label"},"主人公",-1)),ps={class:"contents"},us=p(()=>e("h6",{class:"popup_label"},"立ち絵1",-1)),_s={class:"contents"},is=p(()=>e("h6",{class:"popup_label"},"立ち絵2",-1)),ds={class:"contents"},cs={class:"popup_subtitle"},rs={class:"contents"},vs=p(()=>e("h6",{class:"popup_label"},"画像",-1)),gs={class:"popup_images_group"},hs={class:"contents"},ms=p(()=>e("h6",{class:"popup_label"},"位置：下",-1)),fs={class:"popup_range_group"},bs={class:"contents"},Us=p(()=>e("h6",{class:"popup_label"},"位置：左",-1)),$s={class:"popup_range_group"},ys={class:"contents"},ws=p(()=>e("h6",{class:"popup_label"},"高さ",-1)),Is={class:"popup_range_group"},Ds=p(()=>e("hr",{class:"popup_hr"},null,-1)),xs=p(()=>e("h4",{class:"popup_title"},"立ち絵",-1)),ks={class:"contents"},Fs=p(()=>e("h6",{class:"popup_label"},"立ち絵の数",-1)),Cs={class:"contents"},Ss={class:"popup_subtitle"},Bs={class:"contents"},Rs=p(()=>e("h6",{class:"popup_label"},"クリッピング",-1)),As={class:"popup_images_group"},Vs={class:"contents"},Ns=p(()=>e("h6",{class:"popup_label"},"位置：上",-1)),js={class:"popup_range_group"},Es={class:"contents"},Ls=p(()=>e("h6",{class:"popup_label"},"位置：左",-1)),Ps={class:"popup_range_group"},qs={class:"contents"},Hs=p(()=>e("h6",{class:"popup_label"},"広さ",-1)),Os={class:"popup_range_group"},Ts=p(()=>e("button",{class:"popup_foot_button -cancel"},"キャンセル",-1)),Gs={__name:"UiEdit",props:{open:{type:[Boolean],default:!1},id:{type:[Number,String],default:""}},emits:["update:open","add","fancy"],setup(i,{emit:y}){const f=i,r=y,g=se(),{newUI:u}=g,{uiList:$}=te(g),{isDev:_,copyObject:R,findData:A}=ae(),{delItem:L,uploadItem:P,getDrag:q,dragItem:H,dropItem:x,fancy:K,setFancy:O,changeFancy:W}=oe(),t=ee({dialog:{},sprite_1:{},sprite_2:{},name_tag_1:{},name_tag_2:{}}),w=J(()=>q(t.value.images)),m=[{id:!1,name:"1の位置"},{id:!0,name:"2の位置"}],T=()=>{const c=A($.value,f.id);f.id==="add"?$.value.push(t.value):t.value=Object.assign(c,t.value),r("update:open",!1)},V=c=>{const a=c.target.matches(".popup_window, .popup_window *"),k=c.target.matches(".-cancel");!c.target.matches(".resource_button")&&(!a||k)&&r("update:open",!1)};return M(()=>f.open,c=>{if(!c)return;const a=A($.value,f.id);f.id==="add"?t.value=u():t.value=R(a),_&&console.log({...t.value})}),(c,a)=>{const k=ie("visible");return F((h(),b("section",{class:"popup",onClick:V},[e("div",De,[e("div",xe,[o(ve,{class:"popup_aspect !h-cqh lg:!h-[calc(100cqw/16*9)]"},{default:D(()=>[o(G,{class:"border border-current",data:t.value,large:!0,edit:!0},null,8,["data"])]),_:1}),e("section",ke,[e("div",Fe,[Ce,o(de,{class:"popup_input",value:t.value.name,"onUpdate:value":a[0]||(a[0]=s=>t.value.name=s)},null,8,["value"])]),e("div",Se,[e("div",Be,[Re,e("label",Ae,[o(n(Y)),o(re,{class:"hidden",onUpload:a[1]||(a[1]=s=>n(P)(t.value.images,t.value.images.length,s)),multiple:!0})])]),e("div",Ve,[(h(!0),b(S,null,B(t.value.images??[],(s,l)=>(h(),le(C,{key:s.id,data:s,hasDrag:w.value,onDrag:d=>n(H)(t.value.images,...d,l),onDrop:d=>n(x)(t.value.images,d,l+1),onFancy:a[2]||(a[2]=d=>r("fancy",d)),onDel:d=>n(L)(t.value.images,l)},null,8,["data","hasDrag","onDrag","onDrop","onDel"]))),128))])]),e("div",Ne,[je,e("div",Ee,[o(C,{data:{path:t.value.mask},draggable:!1,onUpload:a[3]||(a[3]=s=>t.value.mask=s.path),onDel:a[4]||(a[4]=s=>t.value.mask=""),onFancy:a[5]||(a[5]=s=>r("fancy",s))},null,8,["data"])])]),Le,Pe,e("div",qe,[He,e("div",Oe,[o(U,{value:t.value.dialog.bottom,"onUpdate:value":a[6]||(a[6]=s=>t.value.dialog.bottom=s),min:-100,max:100,step:.5},null,8,["value"]),e("span",null,v(t.value.dialog.bottom),1)])]),e("div",Te,[Ge,e("div",Me,[o(U,{value:t.value.dialog.left,"onUpdate:value":a[7]||(a[7]=s=>t.value.dialog.left=s),min:-100,max:100,step:.5},null,8,["value"]),e("span",null,v(t.value.dialog.left),1)])]),e("div",Je,[Ke,e("div",We,[o(U,{value:t.value.dialog.width,"onUpdate:value":a[8]||(a[8]=s=>t.value.dialog.width=s),min:50,max:100,step:.5},null,8,["value"]),e("span",null,v(t.value.dialog.width),1)])]),Ze,ze,e("div",Qe,[Xe,o(I,{value:t.value.name_tag_number,"onUpdate:value":a[9]||(a[9]=s=>t.value.name_tag_number=s),list:[1,2],name:"name_tag"},null,8,["value"])]),e("div",Ye,[es,o(I,{value:t.value.name_tag_solo_show,"onUpdate:value":a[10]||(a[10]=s=>t.value.name_tag_solo_show=s),list:[{id:!1,name:"非表示"},{id:!0,name:"表示"}],name:"name_tag_solo_show"},null,8,["value"])]),F(e("div",ss,[ts,e("div",as,[os,o(I,{value:t.value.name_tag_solo_right,"onUpdate:value":a[11]||(a[11]=s=>t.value.name_tag_solo_right=s),list:m,name:"name_tag_solo_right"},null,8,["value"])]),e("div",ls,[ns,o(I,{value:t.value.name_tag_hero_right,"onUpdate:value":a[12]||(a[12]=s=>t.value.name_tag_hero_right=s),list:m,name:"name_tag_hero_right"},null,8,["value"])]),e("div",ps,[us,o(I,{value:t.value.name_tag_sprite_1_right,"onUpdate:value":a[13]||(a[13]=s=>t.value.name_tag_sprite_1_right=s),list:m,name:"name_tag_sprite_1_right"},null,8,["value"])]),F(e("div",_s,[is,o(I,{value:t.value.name_tag_sprite_2_right,"onUpdate:value":a[14]||(a[14]=s=>t.value.name_tag_sprite_2_right=s),list:m,name:"name_tag_sprite_2_right"},null,8,["value"])],512),[[N,t.value.sprite_number===2]])],512),[[N,t.value.name_tag_number===2]]),(h(),b(S,null,B(2,s=>F(e("div",ds,[e("h5",cs,"名札"+v(s),1),e("div",rs,[vs,e("div",gs,[o(C,{data:{path:t.value["name_tag_"+s].path},draggable:!1,onUpload:l=>t.value["name_tag_"+s].path=l.path,onDel:l=>t.value["name_tag_"+s].path="",onFancy:a[15]||(a[15]=l=>r("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",hs,[ms,e("div",fs,[o(U,{value:t.value["name_tag_"+s].bottom,"onUpdate:value":l=>t.value["name_tag_"+s].bottom=l,min:-100,max:100,step:.5},null,8,["value","onUpdate:value"]),e("span",null,v(t.value["name_tag_"+s].bottom),1)])]),e("div",bs,[Us,e("div",$s,[o(U,{value:t.value["name_tag_"+s].left,"onUpdate:value":l=>t.value["name_tag_"+s].left=l,min:-100,max:100,step:.5},null,8,["value","onUpdate:value"]),e("span",null,v(t.value["name_tag_"+s].left),1)])]),e("div",ys,[ws,e("div",Is,[o(U,{value:t.value["name_tag_"+s].height,"onUpdate:value":l=>t.value["name_tag_"+s].height=l,min:1,max:20,step:.5},null,8,["value","onUpdate:value"]),e("span",null,v(t.value["name_tag_"+s].height),1)])])],512),[[N,s===1||s===2&&t.value.name_tag_number===2]])),64)),Ds,xs,e("div",ks,[Fs,o(I,{value:t.value.sprite_number,"onUpdate:value":a[16]||(a[16]=s=>t.value.sprite_number=s),list:[1,2],name:"sprite"},null,8,["value"])]),(h(),b(S,null,B(2,s=>F(e("div",Cs,[e("h5",Ss,"立ち絵"+v(s),1),e("div",Bs,[Rs,e("div",As,[o(C,{data:{path:t.value["sprite_"+s].mask},draggable:!1,onUpload:l=>t.value["sprite_"+s].mask=l.path,onDel:l=>t.value["sprite_"+s].mask="",onFancy:a[17]||(a[17]=l=>r("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",Vs,[Ns,e("div",js,[o(U,{value:t.value["sprite_"+s].top,"onUpdate:value":l=>t.value["sprite_"+s].top=l,min:-100,max:100,step:.5},null,8,["value","onUpdate:value"]),e("span",null,v(t.value["sprite_"+s].top),1)])]),e("div",Es,[Ls,e("div",Ps,[o(U,{value:t.value["sprite_"+s].left,"onUpdate:value":l=>t.value["sprite_"+s].left=l,min:-100,max:100,step:.5},null,8,["value","onUpdate:value"]),e("span",null,v(t.value["sprite_"+s].left),1)])]),e("div",qs,[Hs,e("div",Os,[o(U,{value:t.value["sprite_"+s].width,"onUpdate:value":l=>t.value["sprite_"+s].width=l,min:20,max:100,step:.5},null,8,["value","onUpdate:value"]),e("span",null,v(t.value["sprite_"+s].width),1)])])],512),[[N,s===1||s===2&&t.value.sprite_number===2]])),64)),e("div",{class:"popup_foot"},[e("button",{class:"popup_foot_button",onClick:T},"保存"),Ts])])])])])),[[k,i.open]])}}},Ms=j(Gs,[["__scopeId","data-v-3c06d7ea"]]),E=i=>(ne("data-v-0b0fd6a8"),i=i(),pe(),i),Js={class:"resource_container"},Ks={class:"resource"},Ws=["onClick"],Zs=["onClick"],zs={class:"resource_footer"},Qs={class:"resource_group !flex-wrap !gap-x-5"},Xs={class:"resource_group"},Ys=E(()=>e("span",null,"デフォルトUI",-1)),et=E(()=>e("option",{value:""},"なし",-1)),st={class:"resource_group"},tt=E(()=>e("span",null,"CGのUI設定",-1)),at=E(()=>e("option",{value:""},"固定なし",-1)),ot={__name:"UI",setup(i){const y=se(),{newUI:f}=y,{defaultUI:r,defaultUIForCG:g,uiList:u}=te(y),{copyObject:$,findData:_,findIndex:R}=ae(),{delItem:A,uploadItem:L,getDrag:P,dragItem:q,dropItem:H,fancy:x,setFancy:K,changeFancy:O}=oe(),W=J(()=>P(u.value)),t=J(()=>_(u.value,x.value)),w=Z({open:!1,id:""}),m=Z({open:!1,value:""}),T=c=>{const a=$(u.value[c]);a.id=f(u.value),u.value.splice(c,0,a)},V=c=>{w.id=c,w.open=!0};return(c,a)=>{var k;return h(),b("div",Js,[e("div",Ks,[(h(!0),b(S,null,B(n(u)??[],(s,l)=>(h(),le(C,{key:s.id,data:s,hasDrag:W.value,onDrag:d=>n(q)(n(u),...d,l),onDrop:d=>n(H)(n(u),d,l+1),onFancy:d=>n(K)(n(u),s.id,"id"),onAdd:d=>n(L)(n(u),l+1,[d]),onDel:d=>n(A)(n(u),l)},{image:D(()=>[o(G,{class:"hover:opacity-75",data:s,edit:!0},null,8,["data"])]),button:D(()=>[e("label",{class:"resource_button",onClick:d=>T(l),title:"コピー"},[o(Ue,{class:"mt-0.5"})],8,Ws),e("label",{class:"resource_button",onClick:d=>V(s.id),title:"編集"},[o(ue,{class:"mt-0.5"})],8,Zs)]),_:2},1032,["data","hasDrag","onDrag","onDrop","onFancy","onAdd","onDel"]))),128))]),e("div",zs,[e("div",Qs,[e("label",Xs,[Ys,o(Q,{class:"resource_select",value:n(r),"onUpdate:value":a[0]||(a[0]=s=>z(r)?r.value=s:null),options:n(u)},{default:D(()=>[et]),_:1},8,["value","options"])]),e("label",st,[tt,o(Q,{class:"resource_select",value:n(g),"onUpdate:value":a[1]||(a[1]=s=>z(g)?g.value=s:null),options:n(u)},{default:D(()=>[at]),_:1},8,["value","options"])])]),e("label",{class:"resource_plus",onClick:a[2]||(a[2]=s=>V("add")),title:"新規"},[o(n(Y))])]),o(Ms,{open:w.open,"onUpdate:open":a[3]||(a[3]=s=>w.open=s),id:w.id,onFancy:a[4]||(a[4]=s=>{m.value=s,m.open=!0})},null,8,["open","id"]),o(X,{open:m.open,"onUpdate:open":a[5]||(a[5]=s=>m.open=s)},{default:D(()=>[o(ce,{src:m.value,alt:m.value},null,8,["src","alt"])]),_:1},8,["open"]),o(X,{open:n(x).open,"onUpdate:open":a[6]||(a[6]=s=>n(x).open=s),index:n(x).index,length:(k=n(u))==null?void 0:k.length,onPrev:a[7]||(a[7]=s=>n(O)(n(u),-1,"id")),onNext:a[8]||(a[8]=s=>n(O)(n(u),1,"id"))},{default:D(()=>[o(G,{data:t.value,large:!0,edit:!0},null,8,["data"])]),_:1},8,["open","index","length"])])}}},gt=j(ot,[["__scopeId","data-v-0b0fd6a8"]]);export{gt as default};
