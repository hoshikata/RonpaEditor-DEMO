import{o as n,c as i,a as e,_ as C,u as B,s as V,b as q,r as b,d as T,w as g,e as D,f as z,t as _,g as c,h as o,i as L,j as v,v as p,n as P,F as y}from"./index-BG_E9A1d.js";import{I as j}from"./round-plus-BXXCkA9S.js";import{R as E}from"./Range-D580RRJf.js";import{W as R}from"./Wrap-CvB9KQXK.js";import{D as F}from"./Dialog-Bp66wblg.js";const O={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},N=e("path",{fill:"currentColor",d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1m0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1M4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18c-1.84 0-3.28 1.64-2.95 3.54c.21 1.21 1.2 2.2 2.41 2.41c1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1z"},null,-1),U=[N];function W(r,a){return n(),i("svg",O,[...U])}const A={name:"ic-round-queue-music",render:W},G={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},J=e("path",{fill:"currentColor",d:"M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72z"},null,-1),K=[J];function Q(r,a){return n(),i("svg",G,[...K])}const X={name:"ic-sharp-keyboard-voice",render:Q},Y={name:"MaterialSymbolsDeleteOutline"},Z={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ee=e("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"},null,-1),te=[ee];function se(r,a,m,k,w,f){return n(),i("svg",Z,te)}const S=C(Y,[["render",se]]),oe={name:"MaterialSymbolsEditSquareOutline"},ne={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},ie=e("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h8.925l-2 2H5v14h14v-6.95l2-2V19q0 .825-.587 1.413T19 21zm4-6v-4.25l9.175-9.175q.3-.3.675-.45t.75-.15q.4 0 .763.15t.662.45L22.425 3q.275.3.425.663T23 4.4t-.137.738t-.438.662L13.25 15zM21.025 4.4l-1.4-1.4zM11 13h1.4l5.8-5.8l-.7-.7l-.725-.7L11 11.575zm6.5-6.5l-.725-.7zl.7.7z"},null,-1),ce=[ie];function ae(r,a,m,k,w,f){return n(),i("svg",ne,ce)}const H=C(oe,[["render",ae]]),le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=e("path",{fill:"currentColor",d:"M8 5v14l11-7z"},null,-1),_e=[re];function de(r,a){return n(),i("svg",le,[..._e])}const he={name:"ic-baseline-play-arrow",render:de},ue={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ve=e("path",{fill:"currentColor",d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"},null,-1),pe=[ve];function me(r,a){return n(),i("svg",ue,[...pe])}const I={name:"ic-baseline-skip-previous",render:me},we={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fe=e("path",{fill:"currentColor",d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"},null,-1),$e=[fe];function xe(r,a){return n(),i("svg",we,[...$e])}const be={name:"ic-baseline-fullscreen",render:xe},ge={class:"preview_log_title"},ze={class:"grow truncate font-bold"},ye={class:"preview_button"},Ce=["onClick"],ke={class:"shrink-0 font-medium"},Me={class:"truncate text-sm opacity-50"},Ve={class:"preview_log_content"},Se={class:"preview_log_foot"},He={class:"preview_button ml-auto",title:"編集"},Ie=["onClick"],Be=["onClick"],qe={class:"shrink-0 font-medium"},Te={class:"truncate text-sm opacity-50"},De={class:"preview_log_content"},Le={class:"preview_log_foot"},Pe={class:"flex size-4 items-center justify-center text-sm font-medium opacity-50"},je={class:"flex size-4 items-center justify-center text-sm font-medium opacity-50"},Ee={class:"flex size-4 items-center justify-center text-sm font-medium opacity-50"},Re={class:"preview_button ml-auto",title:"編集"},Fe=["onClick"],Oe={class:"preview_container"},Ne={class:"preview"},Ue={class:"preview_dialog"},We={class:"preview_control"},Ae=["disabled"],Ge={class:"preview_button"},Je=["disabled"],Ke={class:"preview_button"},Qe={__name:"Preview",setup(r){const a=B();V(a);const m=q(),{newChapter:k,dialogType:w}=m,{chapterTitle:f,chapterData:d}=V(m),h=b(0),$=b({}),l=b(0),M=T(()=>d.value.length);return g(d,u=>{var s;return h.value=((s=u[0])==null?void 0:s.id)??0}),g(h,u=>{const s=d.value.find(t=>t.id===u)??{};s.is_showtime||($.value=s,l.value=d.value.indexOf(s))}),g(l,u=>{var s;return h.value=((s=d.value[u])==null?void 0:s.id)??0}),(u,s)=>(n(),D(R,{class:"flex-row-reverse",main:"!p-0",side:"!p-0 border-4 border-transparent"},{side_head:z(()=>[e("div",ge,[e("h5",ze,_(c(f)),1),e("button",ye,[o(c(j))])])]),side:z(()=>[e("ul",null,[(n(!0),i(y,null,L(c(d),t=>(n(),i("li",{class:"group contents",key:t.id},[v(e("div",{class:P(["preview_log",{"-active":t.id===h.value}])},[t.is_showtime?(n(),i(y,{key:0},[e("button",{class:"preview_log_head",onClick:x=>h.value=t.id},[e("h6",ke,_(t.人物),1),e("p",Me,_(t.show_time),1)],8,Ce),e("p",Ve,_(t.show_name),1),e("div",Se,[e("button",He,[o(H)]),e("button",{class:"preview_button ml-1",onClick:x=>t.is_delete=!0,title:"削除"},[o(S)],8,Ie)])],64)):(n(),i(y,{key:1},[e("button",{class:"preview_log_head",onClick:x=>h.value=t.id},[e("h6",qe,_(t.人物),1),e("p",Te,_(t.角色差分),1)],8,Be),e("p",De,_(t.對白),1),e("div",Le,[v(e("span",Pe,"R",512),[[p,t.is_replay]]),v(e("span",je,"U",512),[[p,t.is_unknown]]),v(e("span",Ee,"S",512),[[p,t.is_solo]]),v(o(c(A),{class:"text-sm opacity-50"},null,512),[[p,t.SE]]),v(o(c(X),{class:"text-sm opacity-50"},null,512),[[p,t.Voice]]),e("button",Re,[o(H)]),e("button",{class:"preview_button ml-1",onClick:x=>t.is_delete=!0,title:"削除"},[o(S)],8,Fe)])],64))],2),[[p,!t.is_delete]])]))),128))])]),default:z(()=>[e("div",Oe,[e("div",Ne,[e("div",Ue,[o(F,{value:$.value.對白,type:c(w)($.value)},null,8,["value","type"])])]),e("div",We,[e("button",{class:"preview_button",onClick:s[0]||(s[0]=t=>l.value-=1),disabled:l.value===0},[o(c(I))],8,Ae),e("button",Ge,[o(c(he))]),e("button",{class:"preview_button",onClick:s[1]||(s[1]=t=>l.value+=1),disabled:l.value===M.value-1},[o(c(I),{class:"-scale-x-100"})],8,Je),o(E,{class:"mx-3 grow",value:l.value,"onUpdate:value":s[2]||(s[2]=t=>l.value=t),min:0,max:M.value-1,step:1},null,8,["value","max"]),e("button",Ke,[o(c(be))])])])]),_:1}))}},st=C(Qe,[["__scopeId","data-v-0207def6"]]);export{st as default};
