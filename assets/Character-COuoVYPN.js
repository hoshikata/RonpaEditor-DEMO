import{o as m,c as p,a as t,_ as I,u as L,s as M,i as D,q as E,e as l,C as H,F as U,x as N,d as C,w as a,n as $,M as _,j as c,I as y,J as A,K as T,L as j}from"./index-DBHXhL4u.js";import{U as V}from"./Upload-BafhBdaQ.js";import{_ as q}from"./Image-DvWA8E0Z.js";import{C as J}from"./Control-DNKsFeFz.js";/* empty css                                                             */import{D as B}from"./DropLine-BBC62VDw.js";import{H as K}from"./Header-Bh4b4MH0.js";import"./IconDelete-CiV-FiI4.js";const R={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=t("path",{fill:"currentColor",d:"m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"},null,-1),G=[X];function O(u,v){return m(),p("svg",R,[...G])}const P={name:"ic-round-star",render:O},d=u=>(A("data-v-3c99c201"),u=u(),T(),u),Q={class:"setting_wrap"},W=d(()=>t("div",null,null,-1)),Y=d(()=>t("div",{class:"setting_head"},[t("h2",{class:"setting_title"},"アイコン"),t("p",{class:"setting_desc"},"ゲーム内表示"),t("p",{class:"setting_desc highlight"},"★ = 主人公")],-1)),Z=d(()=>t("div",{class:"setting_head col-span-2"},[t("h2",{class:"setting_title"},"お名前"),t("p",{class:"setting_desc"},"EXCEL内表示")],-1)),ee=d(()=>t("div",{class:"setting_head"},[t("h2",{class:"setting_title"},"名札"),t("p",{class:"setting_desc"},"ゲーム内表示"),t("p",{class:"setting_desc"},"（画像のない場合はカタカナ表示になります）")],-1)),se=["draggable","onDragstart","onDragend"],te={class:"setting_avatar"},oe=["onClick"],ne={class:"setting_detail",draggable:"false"},le=["onUpdate:modelValue","disabled","onFocus","onBlur"],ae={class:"setting_col"},ie=d(()=>t("p",{class:"ml-0.5"},"名前の色",-1)),de=["onUpdate:modelValue","onFocus","onBlur"],_e=["onUpdate:modelValue"],ue={class:"setting_detail"},ge=["onUpdate:modelValue","disabled","onFocus","onBlur"],re={class:"setting_col"},me=d(()=>t("p",{class:"ml-0.5"},"名前の背景色",-1)),pe=["onUpdate:modelValue","onFocus","onBlur"],ce=["onUpdate:modelValue"],ve=d(()=>t("div",{class:"col-span-5 mb-4"},null,-1)),be={__name:"Character",setup(u){const v=L(),{characterList:i,characterNew:k}=M(v),{dragMove:x,dropMove:w}=j(),z=D(()=>i.value.some(o=>o.is_hero)),b=D(()=>i.value.some(o=>o.dragging)),F=o=>i.value.splice(o+1,0,{...k.value}),S=o=>i.value.splice(o,1),f=(o,n,g)=>{g&&x(o,{index:n}),i.value[n].dragging=g},h=(o,n)=>w(i.value,o.index,n);return(o,n)=>{const g=E("visible");return m(),p("div",Q,[l(K,{col:"col-span-5"},{default:H(()=>[W,Y,Z,ee]),_:1}),l(B,{class:"setting_dragline",onDrop:n[0]||(n[0]=e=>h(e,0)),dragging:b.value},null,8,["dragging"]),(m(!0),p(U,null,N(C(i),(e,r)=>(m(),p(U,{key:e.id},[t("section",{class:$(["setting_container",{dragging:e.dragging}]),draggable:e.is_drag,onDragstart:s=>f(s,r,!0),onDragend:s=>f(s,r,!1),onDrag:n[1]||(n[1]=y(()=>{},["prevent"])),onDrop:n[2]||(n[2]=y(()=>{},["prevent"]))},[l(J,{class:"row-span-2 -mr-6",hasDel:!e.disabled,onAdd:s=>F(r),onDel:s=>S(r)},null,8,["hasDel","onAdd","onDel"]),t("div",te,[a(l(q,{class:"setting_avatar_img",src:e.default_head},null,8,["src"]),[[g,e.disabled&&!e.image_head]]),l(V,{class:"size-full",value:e.image_head,"onUpdate:value":s=>e.image_head=s,type:"cover"},null,8,["value","onUpdate:value"]),a((m(),p("button",{class:$(["setting_star",{"setting_star-active":e.is_hero}]),onClick:s=>e.is_hero=!e.is_hero,title:"主人公"},[l(C(P))],10,oe)),[[g,!(z.value&&!e.is_hero)]])]),t("div",ne,[a(t("input",{class:"setting_name last","onUpdate:modelValue":s=>e.name=s,style:c({"--name-bg":e.name_bg,"--name-text":e.name_text}),disabled:e.disabled,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,44,le),[[_,e.name,void 0,{lazy:!0,trim:!0}]]),t("div",ae,[ie,a(t("input",{class:"setting_input","onUpdate:modelValue":s=>e.name_text=s,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,de),[[_,e.name_text,void 0,{lazy:!0,trim:!0}]]),t("label",{class:"setting_color",style:c({"background-color":e.name_text})},[a(t("input",{class:"hidden","onUpdate:modelValue":s=>e.name_text=s,type:"color"},null,8,_e),[[_,e.name_text,void 0,{lazy:!0}]])],4)])]),t("div",ue,[a(t("input",{class:"setting_name first","onUpdate:modelValue":s=>e.katakana=s,disabled:e.disabled,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,ge),[[_,e.katakana,void 0,{lazy:!0,trim:!0}]]),t("div",re,[me,a(t("input",{class:"setting_input","onUpdate:modelValue":s=>e.name_bg=s,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,pe),[[_,e.name_bg,void 0,{lazy:!0,trim:!0}]]),t("label",{class:"setting_color",style:c({"background-color":e.name_bg})},[a(t("input",{class:"hidden","onUpdate:modelValue":s=>e.name_bg=s,type:"color"},null,8,ce),[[_,e.name_bg,void 0,{lazy:!0}]])],4)])]),l(V,{class:"setting_nametag",value:e.image_name,"onUpdate:value":s=>e.image_name=s},null,8,["value","onUpdate:value"])],42,se),l(B,{class:"setting_dragline",onDrop:s=>h(s,r+1),dragging:b.value},null,8,["onDrop","dragging"])],64))),128)),ve])}}},Be=I(be,[["__scopeId","data-v-3c99c201"]]);export{Be as default};
