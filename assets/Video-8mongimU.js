import{a as x}from"./IconDelete-ZcuN_BJS.js";import{U as B}from"./Upload-CgUy7KZw.js";import{F as S}from"./Fancy-eNXBw9xH.js";import{R as V}from"./Resource-7mk0IZxs.js";import{f as N,s as g,b as $,j as w,h as A,r as L,g as P,o as d,c as f,a as l,F as T,l as j,d as e,e as c,y as q,m as C,q as E}from"./index-BdrE33-M.js";import"./Image-V81sS9wv.js";import"./Aspect-_fzmY4t2.js";import"./round-drag-indicator-tkqEBC-f.js";import"./Audio-BEQoX7jx.js";const G={class:"resource_container"},z={class:"resource"},H={class:"resource_footer"},J={class:"resource_plus",title:"新規"},K=["src","volume"],te={__name:"Video",setup(M){const _=N(),{audioVolume:D}=g(_),y=$(),{videoList:o}=g(y),{getUrl:h}=E(),{delItem:F,uploadItem:i,getDrag:I,dragItem:b,dropItem:k,fancy:a,setFancy:R,changeFancy:p}=w(),U=A(()=>I(o.value)),u=L(null);return P(()=>a.open,m=>{m||(u.value.currentTime=0,u.value.pause())}),(m,s)=>{var v;return d(),f("div",G,[l("div",z,[(d(!0),f(T,null,j(e(o)??[],(t,n)=>(d(),C(V,{key:t.id,data:t,hasDrag:U.value,onDrag:r=>e(b)(e(o),...r,n),onDrop:r=>e(k)(e(o),r,n+1),onFancy:s[0]||(s[0]=r=>e(R)(e(o),r)),onAdd:r=>e(i)(e(o),n+1,[r]),onDel:r=>e(F)(e(o),n),type:"video"},null,8,["data","hasDrag","onDrag","onDrop","onAdd","onDel"]))),128))]),l("div",H,[l("label",J,[c(e(x)),c(B,{class:"hidden",onUpload:s[1]||(s[1]=t=>e(i)(e(o),e(o).length,t)),multiple:!0,accept:"video/*"})])]),c(S,{open:e(a).open,"onUpdate:open":s[2]||(s[2]=t=>e(a).open=t),index:e(a).index,length:(v=e(o))==null?void 0:v.length,onPrev:s[3]||(s[3]=t=>e(p)(e(o),-1)),onNext:s[4]||(s[4]=t=>e(p)(e(o),1))},{default:q(()=>[l("video",{src:e(h)(e(a).value),volume:e(D).bgm,controls:"",ref_key:"video",ref:u},null,8,K)]),_:1},8,["open","index","length"])])}}};export{te as default};
