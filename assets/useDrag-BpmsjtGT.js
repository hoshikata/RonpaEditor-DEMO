import{o as c,c as d,a as b,_ as h,k as y,r as _,m as C,ea as p,w as g,v as D,b as v,u as f,n as k,eb as m}from"./index-DXMknspr.js";import{I as B,a as $}from"./round-close-yRZ1m-84.js";const w={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},x=b("path",{fill:"currentColor",d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2"},null,-1),I=[x];function M(s,i){return c(),d("svg",w,[...I])}const A={name:"ic-round-drag-indicator",render:M},N={__name:"Control",props:{hasAdd:{type:[Boolean],default:!0},hasDel:{type:[Boolean],default:!0}},emits:["add","del","more"],setup(s,{emit:i}){const n=i,{getClientRect:a}=y(),o=_(null),l=t=>{const e=a(o.value);n(t,e)};return(t,e)=>{const r=C("visible");return c(),d("div",{class:"control gap-2",ref_key:"control",ref:o},[p(t.$slots,"top",{},()=>[g((c(),d("button",{class:"control_button",onClick:e[0]||(e[0]=u=>l("add"))},[v(f(B))])),[[D,s.hasAdd||s.hasDel],[r,s.hasAdd]])]),b("button",{class:"control_button",onClick:e[1]||(e[1]=u=>l("more"))},[v(f(A))]),p(t.$slots,"bottom",{},()=>[g((c(),d("button",{class:"control_button scale-90",onClick:e[2]||(e[2]=u=>l("del"))},[v(f($))])),[[D,s.hasAdd||s.hasDel],[r,s.hasDel]])])],512)}}},E=h(N,[["__scopeId","data-v-f7ee8f07"]]),S={__name:"DropLine",props:{dragging:{type:[Boolean],default:!1}},emits:["drop"],setup(s,{emit:i}){const n=i,a=_(null),o=t=>{a.value.style.opacity=t?1:""},l=t=>{const e=t.dataTransfer.getData("text/plain");let r=null;try{r=JSON.parse(e)}catch{}o(!1),r!==null&&n("drop",r)};return(t,e)=>(c(),d("hr",{class:k(["drag_line invisible opacity-0",{"!visible":s.dragging}]),onDragenter:e[0]||(e[0]=m(r=>o(!0),["prevent"])),onDragleave:e[1]||(e[1]=m(r=>o(!1),["prevent"])),onDragover:e[2]||(e[2]=m(()=>{},["prevent"])),onDrop:l,ref_key:"line",ref:a},null,34))}},J=h(S,[["__scopeId","data-v-21fa1043"]]);function O(){return{dragMove:(n,a)=>{n.dataTransfer.dropEffect="move",n.dataTransfer.setData("text/plain",JSON.stringify(a))},dropMove:(n,a,o)=>{const[l]=n.splice(a,1),t=a>=o?o:o-1,e=t<0?0:t;n.splice(e,0,l)}}}export{E as C,J as D,O as u};
