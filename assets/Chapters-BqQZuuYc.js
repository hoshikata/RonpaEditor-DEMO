import{o as c,d as n,a as t,_ as S,u as H,r as L,e as D,f as P,g as j,n as T,F as C,h as B,i as e,t as o,j as W,k as q,s as z,l as O,c as U,w as m,b as i,m as g,p as J,q as K,v as V}from"./index-Bi8ecxMN.js";import{W as Q}from"./Wrap-BaSQvYdT.js";import{C as G}from"./Menu.vue_vue_type_style_index_0_scoped_a51af57a_lang-D2meSnWf.js";import{D as X}from"./Dialog-D8j3s8cH.js";import{M as Y}from"./Mark-JDKJA4oh.js";const Z={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},tt=t("path",{fill:"currentColor",d:"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42c.39.39 1.02.39 1.41 0l6.59-6.59a.996.996 0 0 0 0-1.41l-6.58-6.6a.996.996 0 1 0-1.41 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1"},null,-1),st=[tt];function et(l,p){return c(),n("svg",Z,[...st])}const ot={name:"ic-round-arrow-forward",render:et},ct={name:"MdiExclamationThick"},lt={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},at=t("path",{fill:"currentColor",d:"M10 3h4v11h-4zm0 18v-4h4v4z"},null,-1),nt=[at];function it(l,p,f,h,y,v){return c(),n("svg",lt,nt)}const _t=S(ct,[["render",it]]),rt={class:"menu_list"},dt={class:"contents"},ht=["onClick"],ut={__name:"Menu",props:{positions:{type:[Object],default:null}},emits:["use","clear"],setup(l,{emit:p}){const f=l,h=p,{getClientRect:y}=H(),v=L(null),a=[{title:"セリフ：主人公",type:""},{title:"セリフ：独り言",type:"",class:"!text-cyan-400 !dark:text-monolog"},{title:"セリフ：脇役",type:""},{title:"切り替え：背景",type:""},{title:"切り替え：BGM",type:""},{title:"演出：CG",type:""},{title:"演出：CG終了",type:""},{title:"演出：動画",type:""},{title:"演出：暗転",type:""},{title:"アナウンス",type:"",class:"!text-announce"},{title:"システム",type:"",class:"!text-announce"},{title:"削除",type:"",class:"!bg-red-500/50 !text-white hover:!bg-red-500/75"}],k=D(()=>{const{height:r}=y(document.documentElement),{height:s}=y(v.value),{x:d,y:u,width:b,height:M}=f.positions??{},E=(u??0)+(M??0)/2-(s??0)/2,N=(E<20?20:E)+"px",R=(r??0)-(s??0)-20+"px",A=`min(${N}, ${R})`,F=(d??0)+(b??0)+2+"px";return{top:A,left:F}}),x=D(()=>{const{x:r,y:s,width:d,height:u}=f.positions??{},b=(s??0)+(u??0)/2,M=(r??0)+(d??0)+3;return{top:b+"px",left:M+"px"}}),w=r=>{r.target.matches(".menu, .menu *")||h("clear",null)},I=r=>{h("use",{type:r}),h("clear",null)};return(r,s)=>{const d=P("visible");return j((c(),n("div",{class:"fixed inset-0 z-50 h-dvh w-dvw overflow-hidden",onClick:w},[t("div",{class:"menu_triangle",style:T(x.value)},null,4),t("div",{class:"menu scrollbar overflow-y-auto",style:T(k.value),ref_key:"menu",ref:v},[t("ul",rt,[(c(),n(C,null,B(a,u=>t("li",dt,[t("button",{class:e(["menu_item",u.class]),onClick:b=>I(u.type)},o(u.title),11,ht)])),64))])],4)])),[[d,l.positions]])}}},pt=S(ut,[["__scopeId","data-v-a51af57a"]]),vt={__name:"Switch",props:{active:{type:[Boolean],default:!1}},setup(l){return(p,f)=>(c(),n("button",{class:e(["switch",{"bg-current":l.active}])},[t("span",{class:e(["-mt-0.1em",{"text-white":l.active}])},[W(p.$slots,"default",{},void 0,!0)],2)],2))}},$=S(vt,[["__scopeId","data-v-407fdb5c"]]),_=l=>(J("data-v-99d43ae6"),l=l(),K(),l),mt={class:"side_list"},gt={class:"flex"},ft=["onClick","title"],wt={class:"chapter_head"},yt={class:"mr-8 grid"},xt=["title"],kt=_(()=>t("span",{class:"chapter_head_number"},"01.png",-1)),bt={class:"mt-auto flex justify-end gap-2"},$t=_(()=>t("p",{class:"chapter_head_desc"},[V("目が覚めたら見知らぬ教室、辺るは水族館のような不思議な光景…自己紹介した後、どこから来た「モノカイ」と自称するぬいぐるみは俺たちをここでコロシアイ学園生活を強いられた。ここから脱出する条件は一つ――誰にばれないように殺人をすることだった。"),t("br"),V("目が覚めたら見知らぬ教室、辺るは水族館のような不思議な光景…自己紹介した後、どこから来た「モノカイ」と自称するぬいぐるみは俺たちをここでコロシアイ学園生活を強いられた。ここから脱出する条件は一つ――誰にばれないように殺人をすることだった。")],-1)),Ct={class:"chapter_log"},St=_(()=>t("div",{class:"chapter_log_tr -lock"},[t("div",{class:"chapter_log_th"},"セリフ＆背景＆BGM＆演出"),t("div",{class:"ml-4 w-8 shrink-0"})],-1)),Mt=_(()=>t("div",{class:"chapter_log_tr_2 -lock"},[t("div",{class:"chapter_log_th -col"},"脇役．差分＆エフェクト"),t("div",{class:"chapter_log_th -col"},"主人公．差分＆エフェクト"),t("div",{class:"chapter_log_th -col"},"SE"),t("div",{class:"chapter_log_th -col"},"ボイス"),t("div",{class:"chapter_log_th -col"},"備考")],-1)),Bt={key:0,class:"contents"},It={class:"chapter_log_tr"},Et={class:"chapter_log_td flex"},Dt={class:"chapter_log_avatar"},Tt=["src"],zt={class:"chapter_log_switches"},Vt=_(()=>t("span",{class:"dark:text-dark-wrap"},"R",-1)),Gt=_(()=>t("span",{class:"dark:text-dark-wrap"},"U",-1)),Lt={class:"chapter_log_tr_2"},Pt={class:"chapter_log_td -col"},jt={class:"chapter_log_td -col"},Nt={class:"chapter_log_td -col"},Rt={class:"chapter_log_td -col"},At={class:"chapter_log_td -col"},Ft={key:1,class:"contents"},Ht={class:"chapter_log_tr"},Wt={class:"chapter_log_td flex"},qt={class:"grow truncate bg-primary p-2 text-left ml-0.5cw"},Ot=_(()=>t("div",{class:"ml-4 w-8 shrink-0"},null,-1)),Ut={class:"chapter_log_tr_2"},Jt=_(()=>t("div",{class:"chapter_log_td -col"},null,-1)),Kt=_(()=>t("div",{class:"chapter_log_td -col"},null,-1)),Qt=_(()=>t("div",{class:"chapter_log_td -col"},null,-1)),Xt=_(()=>t("div",{class:"chapter_log_td -col"},null,-1)),Yt={class:"chapter_log_td -col"},Zt={__name:"Chapters",setup(l){const p=q();z(p);const f=O(),{chapterIndex:h,chapterList:y,chapterData:v}=z(f),a=w=>({"!bg-secondary/60":!!w}),k=L(null),x=w=>k.value=w;return(w,I)=>{const r=P("visible");return c(),U(Q,null,{side:m(()=>[t("ul",mt,[(c(!0),n(C,null,B(g(y),(s,d)=>(c(),n("li",gt,[i(Y,{class:"mt-0.6em bg-current/10",active:d===g(h)},null,8,["active"]),t("button",{class:e(["side_item",{"side_item-active":d===g(h)}]),onClick:u=>h.value=d,title:s},o(s),11,ft)]))),256))])]),main_head:m(()=>[t("div",wt,[t("div",yt,[t("h1",{class:"chapter_head_title",title:g(v).title},o(g(v).title),9,xt),kt,t("div",bt,[i($,{class:"bg-keyword text-keyword-dark"},{default:m(()=>[i(_t,{class:"text-2xl mt-0.1em"})]),_:1}),i($,{class:"bg-white text-primary"},{default:m(()=>[i(g(ot),{class:"mt-0.1em"})]),_:1})])]),$t])]),default:m(()=>[t("div",Ct,[St,Mt,(c(!0),n(C,null,B(g(v).data,s=>(c(),n(C,null,[s.is_dialog?(c(),n("div",Bt,[t("div",It,[t("div",Et,[i(G,{class:"shrink-0",onMore:x}),t("div",{class:e(["chapter_log_info",{"flex-row-reverse":s.character.is_hero,"-replay":s.is_replay}])},[j((c(),n("div",Dt,[t("img",{src:s.character.image_head},null,8,Tt)])),[[r,s.character.image_head]]),t("div",{class:e(["chapter_log_dialog",{"-hero":s.character.is_hero}])},[i(X,{class:"my-auto w-full",value:s.對白,type:s.type},null,8,["value","type"])],2)],2)]),t("div",zt,[i($,{class:e(["chapter_log_switch",{"text-replay":s.is_replay}]),active:s.is_replay},{default:m(()=>[Vt]),_:2},1032,["active","class"]),i($,{class:e(["chapter_log_switch",{"text-unknown":s.is_unknown}]),active:s.is_unknown},{default:m(()=>[Gt]),_:2},1032,["active","class"])])]),t("div",Lt,[t("div",Pt,[t("div",{class:e(["-inner col-span-2 truncate",a(s.人物)])},o(s.人物),3),t("div",{class:e(["-inner truncate",a(s.角色差分)])},o(s.角色差分),3),t("div",{class:e(["-inner truncate",a(s.差分特效)])},o(s.差分特效),3)]),t("div",jt,[t("div",{class:e(["-inner col-span-2 truncate",a(s.人物)])},o(s.人物),3),t("div",{class:e(["-inner truncate",a(s.十六夜差分)])},o(s.十六夜差分),3),t("div",{class:e(["-inner truncate",a(s.主角特效)])},o(s.主角特效),3)]),t("div",Nt,[t("div",{class:e(["-inner line-clamp-3",a(s.SE)])},o(s.SE),3)]),t("div",Rt,[t("div",{class:e(["-inner line-clamp-3",a(s.Voice)])},o(s.Voice),3)]),t("div",At,[t("div",{class:e(["-inner line-clamp-3",a(s.備註)])},o(s.備註),3)])])])):(c(),n("div",Ft,[t("div",Ht,[t("div",Wt,[i(G,{class:"shrink-0",onMore:x,hasDel:!1,hasAdd:!1}),t("div",qt,o(s.對白),1),Ot])]),t("div",Ut,[Jt,Kt,Qt,Xt,t("div",Yt,[t("div",{class:e(["-inner truncate",a(s.備註)])},o(s.備註),3)])])]))],64))),256))]),i(pt,{positions:k.value,onClear:x},null,8,["positions"])]),_:1})}}},ls=S(Zt,[["__scopeId","data-v-99d43ae6"]]);export{ls as default};
