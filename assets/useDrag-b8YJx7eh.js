import{o as c,c as d,a as b,_ as h,k as y,r as _,m as k,G as f,w as p,v as g,b as v,u as D,n as C,H as m}from"./index-BqjBh2Sn.js";import{a as B,I as $}from"./IconDelete-D8lqR4xW.js";const w={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},x=b("path",{fill:"currentColor",d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2"},null,-1),I=[x];function M(s,i){return c(),d("svg",w,[...I])}const A={name:"ic-round-drag-indicator",render:M},N={__name:"Control",props:{hasAdd:{type:[Boolean],default:!0},hasDel:{type:[Boolean],default:!0}},emits:["add","del","more"],setup(s,{emit:i}){const n=i,{getClientRect:a}=y(),o=_(null),l=t=>{const e=a(o.value);n(t,e)};return(t,e)=>{const r=k("visible");return c(),d("div",{class:"control gap-2",ref_key:"control",ref:o},[f(t.$slots,"top",{},()=>[p((c(),d("button",{class:"control_button",onClick:e[0]||(e[0]=u=>l("add")),title:"新規"},[v(D(B))])),[[g,s.hasAdd||s.hasDel],[r,s.hasAdd]])]),b("button",{class:"control_button",onClick:e[1]||(e[1]=u=>l("more")),title:"もっと"},[v(D(A))]),f(t.$slots,"bottom",{},()=>[p((c(),d("button",{class:"control_button scale-90",onClick:e[2]||(e[2]=u=>l("del")),title:"削除"},[v($)])),[[g,s.hasAdd||s.hasDel],[r,s.hasDel]])])],512)}}},E=h(N,[["__scopeId","data-v-abb46b89"]]),S={__name:"DropLine",props:{dragging:{type:[Boolean],default:!1}},emits:["drop"],setup(s,{emit:i}){const n=i,a=_(null),o=t=>{a.value.style.opacity=t?1:""},l=t=>{const e=t.dataTransfer.getData("text/plain");let r=null;try{r=JSON.parse(e)}catch{}o(!1),r!==null&&n("drop",r)};return(t,e)=>(c(),d("hr",{class:C(["drag_line invisible opacity-0",{"!visible":s.dragging}]),onDragenter:e[0]||(e[0]=m(r=>o(!0),["prevent"])),onDragleave:e[1]||(e[1]=m(r=>o(!1),["prevent"])),onDragover:e[2]||(e[2]=m(()=>{},["prevent"])),onDrop:l,ref_key:"line",ref:a},null,34))}},H=h(S,[["__scopeId","data-v-21fa1043"]]);function J(){return{dragMove:(n,a)=>{n.dataTransfer.dropEffect="move",n.dataTransfer.setData("text/plain",JSON.stringify(a))},dropMove:(n,a,o)=>{const[l]=n.splice(a,1),t=a>=o?o:o-1,e=t<0?0:t;n.splice(e,0,l)}}}export{E as C,H as D,J as u};
