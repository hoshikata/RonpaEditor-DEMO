import{a as b}from"./IconDelete-TO_dbRsd.js";import{_ as h}from"./Image-COFTwgKG.js";import{l as B,_ as L,p as U,o as r,c as u,w as m,b as d,d as _,a as g,n as y}from"./index-SMKVIrGu.js";function x(){const{findData:l}=B(),o=(e,t)=>{const s=t.replace(/\s/g,"").toLowerCase().split(","),c=e.name.slice(e.name.lastIndexOf(".")).toLowerCase();return t!==""?s.includes(c):!0},i=e=>e instanceof Blob;return{isFileType:o,isBlobFile:i,blobUrl:(e,t)=>{const s=c=>c.slice(-1)==="/"?"":c;return i(e)?URL.createObjectURL(e):s(t??"")},getFileName:e=>{var s;e=e??"";const t=(s=e.lastIndexOf)==null?void 0:s.call(e,"/");return i(e)||t===-1?e:e.slice(t).slice(1)},getFilesData:(e,t)=>{const s=t.filter(a=>!a.id),c=e.filter(a=>!l(t,a.id)).map(a=>a.name),v=e.filter(a=>l(t,a.id));return{addList:s,delList:c,resultList:v}}}}const F={class:"upload_input"},C=["accept","multiple"],I={class:"upload_image"},w={__name:"Upload",props:{value:{type:[String],default:""},type:{type:[String],default:"contain"},accept:{type:[String],default:"image/*"},multiple:{type:[Boolean],default:!1},disabled:{type:[Boolean],default:!1}},emits:["update:value"],setup(l,{emit:o}){const{blobUrl:i}=x(),n=o,p=e=>{const t=e.target.files[0],s=window.electron?t.path:i(t,"");n("update:value",s)},f=()=>n("update:value","");return(e,t)=>{const s=U("visible");return r(),u("div",{class:y(["upload",{"pointer-events-none":l.disabled}])},[m((r(),u("label",F,[d(_(b)),g("input",{class:"hidden",onChange:p,type:"file",accept:l.accept,multiple:l.multiple},null,40,C)])),[[s,!l.value]]),m((r(),u("div",I,[d(h,{class:y(["size-full",l.type==="cover"?"object-cover":"object-contain"]),src:l.value},null,8,["src","class"]),g("button",{class:"upload_remove",onClick:f,title:"削除画像"},[d(_(b),{class:"rotate-45"})])])),[[s,l.value]])],2)}}},O=L(w,[["__scopeId","data-v-c7611be1"]]);export{O as U};
