import{o as r,c as m,a as t,_ as I,u as L,s as M,i as D,q as E,d as l,C as H,F as U,x as N,e as C,w as i,n as $,O as _,j as c,I as y,J as A,K as T,L as j}from"./index-D0GbkE8i.js";import{U as V}from"./Upload-DWAUdm4p.js";import{_ as q}from"./Image-qcYgLhux.js";import{D as B,C as J}from"./DropLine-BbnlAZUJ.js";/* empty css                                                             */import{H as K}from"./Header-rRdoAGEh.js";import"./IconDelete-Bqd5S59N.js";const O={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},R=t("path",{fill:"currentColor",d:"m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"},null,-1),X=[R];function G(u,v){return r(),m("svg",O,[...X])}const P={name:"ic-round-star",render:G},d=u=>(A("data-v-c55c2ea9"),u=u(),T(),u),Q={class:"setting_wrap"},W=d(()=>t("div",null,null,-1)),Y=d(()=>t("div",{class:"setting_head"},[t("h2",{class:"setting_title"},"アイコン"),t("p",{class:"setting_desc"},"ゲーム内表示"),t("p",{class:"setting_desc highlight"},"★ = 主人公")],-1)),Z=d(()=>t("div",{class:"setting_head col-span-2"},[t("h2",{class:"setting_title"},"お名前"),t("p",{class:"setting_desc"},"EXCEL内表示")],-1)),ee=d(()=>t("div",{class:"setting_head"},[t("h2",{class:"setting_title"},"名札"),t("p",{class:"setting_desc"},"ゲーム内表示"),t("p",{class:"setting_desc"},"（画像のない場合はカタカナ表示になります）")],-1)),se=["draggable","onDragstart","onDragend"],te={class:"setting_avatar"},oe=["onClick"],ne={class:"setting_detail",draggable:"false"},le=["onUpdate:modelValue","disabled","onFocus","onBlur"],ae={class:"setting_col"},ie=d(()=>t("p",{class:"ml-0.5"},"名前の色",-1)),de=["onUpdate:modelValue","onFocus","onBlur"],_e=["onUpdate:modelValue"],ue={class:"setting_detail"},ge=["onUpdate:modelValue","disabled","onFocus","onBlur"],re={class:"setting_col"},me=d(()=>t("p",{class:"ml-0.5"},"名前の背景色",-1)),pe=["onUpdate:modelValue","onFocus","onBlur"],ce=["onUpdate:modelValue"],ve=d(()=>t("div",{class:"col-span-5 mb-4"},null,-1)),be={__name:"Character",setup(u){const v=L(),{characterList:a,characterNew:k}=M(v),{dragMove:x,dropMove:w}=j(),z=D(()=>a.value.some(o=>o.is_hero)),b=D(()=>a.value.some(o=>o.dragging)),F=o=>a.value.splice(o+1,0,{...k.value}),S=o=>a.value.splice(o,1),f=(o,n,p)=>{p&&x(o,{index:n}),a.value[n].dragging=p},h=(o,n)=>w(a.value,o.index,n);return(o,n)=>{const p=E("visible");return r(),m("div",Q,[l(K,{col:"col-span-5"},{default:H(()=>[W,Y,Z,ee]),_:1}),l(B,{class:"setting_dragline",onDrop:n[0]||(n[0]=e=>h(e,0)),dragging:b.value},null,8,["dragging"]),(r(!0),m(U,null,N(C(a),(e,g)=>(r(),m(U,{key:e.id},[t("section",{class:$(["setting_container",{dragging:e.dragging}]),draggable:e.is_drag,onDragstart:s=>f(s,g,!0),onDragend:s=>f(s,g,!1),onDrag:n[1]||(n[1]=y(()=>{},["prevent"])),onDrop:n[2]||(n[2]=y(()=>{},["prevent"]))},[l(J,{class:"row-span-2 -mr-6",hasDel:!e.disabled,onAdd:s=>F(g),onDel:s=>S(g)},null,8,["hasDel","onAdd","onDel"]),t("div",te,[l(q,{class:"setting_avatar_img",src:e.default_head},null,8,["src"]),l(V,{class:"size-full",value:e.image_head,"onUpdate:value":s=>e.image_head=s,type:"cover"},null,8,["value","onUpdate:value"]),i((r(),m("button",{class:$(["setting_star",{"setting_star-active":e.is_hero}]),onClick:s=>e.is_hero=!e.is_hero,title:"主人公"},[l(C(P))],10,oe)),[[p,!(z.value&&!e.is_hero)]])]),t("div",ne,[i(t("input",{class:"setting_name last","onUpdate:modelValue":s=>e.name=s,style:c({"--name-bg":e.name_bg,"--name-text":e.name_text}),disabled:e.disabled,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,44,le),[[_,e.name,void 0,{lazy:!0,trim:!0}]]),t("div",ae,[ie,i(t("input",{class:"setting_input","onUpdate:modelValue":s=>e.name_text=s,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,de),[[_,e.name_text,void 0,{lazy:!0,trim:!0}]]),t("label",{class:"setting_color",style:c({"background-color":e.name_text})},[i(t("input",{class:"hidden","onUpdate:modelValue":s=>e.name_text=s,type:"color"},null,8,_e),[[_,e.name_text,void 0,{lazy:!0}]])],4)])]),t("div",ue,[i(t("input",{class:"setting_name first","onUpdate:modelValue":s=>e.katakana=s,disabled:e.disabled,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,ge),[[_,e.katakana,void 0,{lazy:!0,trim:!0}]]),t("div",re,[me,i(t("input",{class:"setting_input","onUpdate:modelValue":s=>e.name_bg=s,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,pe),[[_,e.name_bg,void 0,{lazy:!0,trim:!0}]]),t("label",{class:"setting_color",style:c({"background-color":e.name_bg})},[i(t("input",{class:"hidden","onUpdate:modelValue":s=>e.name_bg=s,type:"color"},null,8,ce),[[_,e.name_bg,void 0,{lazy:!0}]])],4)])]),l(V,{class:"setting_nametag",value:e.image_name,"onUpdate:value":s=>e.image_name=s},null,8,["value","onUpdate:value"])],42,se),l(B,{class:"setting_dragline",onDrop:s=>h(s,g+1),dragging:b.value},null,8,["onDrop","dragging"])],64))),128)),ve])}}},Ve=I(be,[["__scopeId","data-v-c55c2ea9"]]);export{Ve as default};
