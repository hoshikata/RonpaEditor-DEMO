import{_ as x,o as d,c as u,a as l,f as D,s as B,i as C,h as S,r as f,g as V,J as T,e as n,d as o,V as g,w as q,v as w,n as h,t as I,p as U}from"./index-BGI2Hdby.js";import{I as R}from"./round-drag-indicator-DK4ZQg3Q.js";import{I as _,D as L}from"./IconDelete-CVM0x2iG.js";import{U as M}from"./Upload-Cbw-QWxx.js";import{_ as N}from"./Image-1cvsMD91.js";import{_ as P}from"./Audio-BCWHTii5.js";const j={name:"MaterialSymbolsSyncRounded"},E={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},z=l("path",{fill:"currentColor",d:"M6 12.05q0 1.125.425 2.188T7.75 16.2l.25.25V15q0-.425.288-.712T9 14t.713.288T10 15v4q0 .425-.288.713T9 20H5q-.425 0-.712-.288T4 19t.288-.712T5 18h1.75l-.4-.35q-1.3-1.15-1.825-2.625T4 12.05Q4 9.7 5.2 7.787T8.425 4.85q.35-.2.738-.025t.512.575q.125.375-.012.75t-.488.575q-1.45.8-2.312 2.213T6 12.05m12-.1q0-1.125-.425-2.187T16.25 7.8L16 7.55V9q0 .425-.288.713T15 10t-.712-.288T14 9V5q0-.425.288-.712T15 4h4q.425 0 .713.288T20 5t-.288.713T19 6h-1.75l.4.35q1.225 1.225 1.788 2.663T20 11.95q0 2.35-1.2 4.263t-3.225 2.937q-.35.2-.737.025t-.513-.575q-.125-.375.013-.75t.487-.575q1.45-.8 2.313-2.212T18 11.95"},null,-1),G=[z];function H(e,c,b,i,y,p){return d(),u("svg",E,G)}const J=x(j,[["render",H]]),O={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Q=l("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-2 13.5v-7a.5.5 0 0 1 .8-.4l4.67 3.5c.27.2.27.6 0 .8l-4.67 3.5a.5.5 0 0 1-.8-.4"},null,-1),A=[Q];function F(e,c){return d(),u("svg",O,[...A])}const K={name:"ic-round-play-circle-filled-white",render:F},W={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=l("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-2 14c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1m4 0c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1"},null,-1),Y=[X];function Z(e,c){return d(),u("svg",W,[...Y])}const ee={name:"ic-round-pause-circle",render:Z},te=["draggable"],ae={key:0,class:"relative"},oe=["disabled","title"],le={key:1,class:"relative"},se=["title"],ne=["title"],de=["title"],ie=["title"],re=["title"],ue={__name:"Resource",props:{data:{type:[Object],default:()=>({})},hasDrag:{type:[Boolean],default:!1},draggable:{type:[Boolean],default:!0},col:{type:[Boolean],default:!0},type:{type:[String],default:"image"}},emits:["update:data","drag","drop","fancy","add","del","upload"],setup(e,{emit:c}){const b=e,i=c,y=D(),{audioVolume:p}=B(y),{t:r}=C("lang"),k=S(()=>({image:"image/*",audio:"audio/*",video:"video/*"})[b.type]),$=f(!0),v=f(null),s=f(!1);return V(s,m=>{m?v.value.play():v.value.pause()}),(m,t)=>(d(),u("div",{class:h(["resource_item group",{"-dragging":e.data.dragging,"flex-col":e.col}]),draggable:e.data.is_drag&&e.draggable,onDragstart:t[9]||(t[9]=a=>i("drag",[a,!0])),onDragend:t[10]||(t[10]=a=>i("drag",[a,!1]))},[e.type==="image"?(d(),u("div",ae,[l("button",{class:"resource_open",onClick:t[1]||(t[1]=a=>i("fancy",e.data.path)),disabled:!$.value,title:e.data.name+o(r)("button.open")},[T(m.$slots,"image",{},()=>[n(N,{class:"resource_image",src:e.data.path,alt:e.data.name,onLoad:t[0]||(t[0]=a=>$.value=a)},null,8,["src","alt"])],!0)],8,oe)])):g("",!0),e.type==="audio"?(d(),u("div",le,[n(P,{class:"hidden",src:e.data.path,volume:o(p).bgm,onEnded:t[2]||(t[2]=a=>s.value=!1),ref_key:"audio",ref:v},null,8,["src","volume"]),l("button",{class:h(["resource_audio",{"text-primary":s.value}]),onClick:t[3]||(t[3]=a=>s.value=!s.value),title:(s.value?o(r)("button.stop"):o(r)("button.play"))+e.data.name},[q(n(o(K),null,null,512),[[w,!s.value]]),q(n(o(ee),null,null,512),[[w,s.value]])],10,se)])):g("",!0),l("div",{class:h(["resource_detail",{"flex-col":!e.col}])},[l("p",{class:"resource_title",title:decodeURI(e.data.path)},I(e.data.name),9,ne),T(m.$slots,"button",{},()=>[l("label",{class:"resource_button",title:o(r)("button.update")+o(r)("edit.image")},[n(J),n(M,{class:"hidden",value:e.data.path,"onUpdate:value":t[4]||(t[4]=a=>e.data.path=a),name:e.data.name,"onUpdate:name":t[5]||(t[5]=a=>e.data.name=a),accept:k.value,onUpload:t[6]||(t[6]=a=>i("upload",a))},null,8,["value","name","accept"])],8,de)],!0),l("button",{class:"resource_button",onClick:t[7]||(t[7]=a=>i("del",e.data.id)),title:o(r)("button.del")},[n(_)],8,ie),e.draggable?(d(),u("button",{key:0,class:"resource_button pointer-events-none group-hover:text-primary",title:o(r)("button.drag")},[n(o(R))],8,re)):g("",!0)],2),e.draggable?(d(),U(L,{key:2,class:"resource_dragline",onDrop:t[8]||(t[8]=a=>i("drop",a)),dragging:e.hasDrag},null,8,["dragging"])):g("",!0)],42,te))}},be=x(ue,[["__scopeId","data-v-8e412b0a"]]);export{be as R};
