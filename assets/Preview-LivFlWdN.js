import{o as n,c as i,a as e,_ as z,u as T,s as H,b as D,r as w,d as P,w as g,e as L,f as C,g as o,t as _,h as c,i as j,j as v,v as p,n as E,F as y}from"./index-lahQZADd.js";import{I as R}from"./Menu.vue_vue_type_style_index_0_scoped_460a9451_lang-DT9hWEFc.js";import{R as F}from"./Range-2UVDDWLw.js";import{W as O}from"./Wrap-DEJKOMd-.js";import{M as N,D as U}from"./Dialog-C872jMJO.js";const W={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},A=e("path",{fill:"currentColor",d:"M14 6H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1m0 4H4c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1M4 16h6c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1M19 6c-1.1 0-2 .9-2 2v6.18c-.31-.11-.65-.18-1-.18c-1.84 0-3.28 1.64-2.95 3.54c.21 1.21 1.2 2.2 2.41 2.41c1.9.33 3.54-1.11 3.54-2.95V8h2c.55 0 1-.45 1-1s-.45-1-1-1z"},null,-1),G=[A];function J(d,a){return n(),i("svg",W,[...G])}const K={name:"ic-round-queue-music",render:J},Q={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=e("path",{fill:"currentColor",d:"M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72z"},null,-1),Y=[X];function Z(d,a){return n(),i("svg",Q,[...Y])}const ee={name:"ic-sharp-keyboard-voice",render:Z},te={name:"MaterialSymbolsDeleteOutline"},se={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},oe=e("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"},null,-1),ne=[oe];function ie(d,a,m,k,f,$){return n(),i("svg",se,ne)}const I=z(te,[["render",ie]]),ce={name:"MaterialSymbolsEditSquareOutline"},ae={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},le=e("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h8.925l-2 2H5v14h14v-6.95l2-2V19q0 .825-.587 1.413T19 21zm4-6v-4.25l9.175-9.175q.3-.3.675-.45t.75-.15q.4 0 .763.15t.662.45L22.425 3q.275.3.425.663T23 4.4t-.137.738t-.438.662L13.25 15zM21.025 4.4l-1.4-1.4zM11 13h1.4l5.8-5.8l-.7-.7l-.725-.7L11 11.575zm6.5-6.5l-.725-.7zl.7.7z"},null,-1),re=[le];function _e(d,a,m,k,f,$){return n(),i("svg",ae,re)}const B=z(ce,[["render",_e]]),de={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=e("path",{fill:"currentColor",d:"M8 5v14l11-7z"},null,-1),ue=[he];function ve(d,a){return n(),i("svg",de,[...ue])}const pe={name:"ic-baseline-play-arrow",render:ve},me={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},we=e("path",{fill:"currentColor",d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"},null,-1),fe=[we];function $e(d,a){return n(),i("svg",me,[...fe])}const q={name:"ic-baseline-skip-previous",render:$e},xe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},be=e("path",{fill:"currentColor",d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"},null,-1),ge=[be];function Ce(d,a){return n(),i("svg",xe,[...ge])}const ye={name:"ic-baseline-fullscreen",render:Ce},ze={class:"preview_log_title"},ke={class:"grow truncate font-bold"},Me=["onClick"],Ve={class:"shrink-0 font-medium"},Se={class:"truncate text-sm opacity-50"},He={class:"preview_log_content"},Ie={class:"preview_log_foot"},Be={class:"preview_button ml-auto",title:"編集"},qe=["onClick"],Te=["onClick"],De={class:"shrink-0 font-medium"},Pe={class:"flex flex-col gap-1 truncate text-xs leading-none opacity-50"},Le={class:"h-1em"},je={class:"h-1em"},Ee={class:"preview_log_content"},Re={class:"preview_log_foot"},Fe={class:"flex size-4 items-center justify-center text-sm font-medium opacity-50"},Oe={class:"flex size-4 items-center justify-center text-sm font-medium opacity-50"},Ne={class:"flex size-4 items-center justify-center text-sm font-medium opacity-50"},Ue={class:"preview_button ml-auto",title:"編集"},We=["onClick"],Ae={class:"preview_container"},Ge={class:"preview"},Je={class:"preview_dialog"},Ke={class:"preview_control"},Qe=["disabled"],Xe={class:"preview_button"},Ye=["disabled"],Ze={class:"preview_button"},et={__name:"Preview",setup(d){const a=T();H(a);const m=D(),{newChapter:k,dialogType:f}=m,{chapterTitle:$,chapterData:h}=H(m),u=w(0),x=w({}),l=w(0),M=P(()=>h.value.length);g(h,r=>{var s;return u.value=((s=r[0])==null?void 0:s.id)??0}),g(u,r=>{const s=h.value.find(t=>t.id===r)??{};s.is_showtime||(x.value=s,l.value=h.value.indexOf(s))}),g(l,r=>{var s;return u.value=((s=h.value[r])==null?void 0:s.id)??0});const V=w(null),S=r=>V.value=r;return(r,s)=>(n(),L(O,{class:"flex-row-reverse",main:"!p-0",side:"!p-0 border-4 border-transparent"},{side_head:C(()=>[o(N,{positions:V.value,onClear:S,onlyAdd:!0},null,8,["positions"]),e("div",ze,[e("h5",ke,_(c($)),1),e("button",{class:"preview_button",onClick:S},[o(c(R))])])]),side:C(()=>[e("ul",null,[(n(!0),i(y,null,j(c(h),t=>(n(),i("li",{class:"group contents",key:t.id},[v(e("div",{class:E(["preview_log",{"-active":t.id===u.value}])},[t.is_showtime?(n(),i(y,{key:0},[e("button",{class:"preview_log_head",onClick:b=>u.value=t.id},[e("h6",Ve,_(t.人物),1),e("p",Se,_(t.show_time),1)],8,Me),e("p",He,_(t.show_name),1),e("div",Ie,[e("button",Be,[o(B)]),e("button",{class:"preview_button ml-1",onClick:b=>t.is_delete=!0,title:"削除"},[o(I)],8,qe)])],64)):(n(),i(y,{key:1},[e("button",{class:"preview_log_head",onClick:b=>u.value=t.id},[e("h6",De,_(t.人物),1),e("p",Pe,[e("span",Le,_(t.角色差分),1),e("span",je,_(t.十六夜差分),1)])],8,Te),e("p",Ee,_(t.和訳),1),e("div",Re,[v(e("span",Fe,"R",512),[[p,t.is_replay]]),v(e("span",Oe,"U",512),[[p,t.is_unknown]]),v(e("span",Ne,"S",512),[[p,t.is_solo]]),v(o(c(K),{class:"text-sm opacity-50"},null,512),[[p,t.SE]]),v(o(c(ee),{class:"text-sm opacity-50"},null,512),[[p,t.Voice]]),e("button",Ue,[o(B)]),e("button",{class:"preview_button ml-1",onClick:b=>t.is_delete=!0,title:"削除"},[o(I)],8,We)])],64))],2),[[p,!t.is_delete]])]))),128))])]),default:C(()=>[e("div",Ae,[e("div",Ge,[e("div",Je,[o(U,{value:x.value.和訳,type:c(f)(x.value)},null,8,["value","type"])])]),e("div",Ke,[e("button",{class:"preview_button",onClick:s[0]||(s[0]=t=>l.value-=1),disabled:l.value===0},[o(c(q))],8,Qe),e("button",Xe,[o(c(pe))]),e("button",{class:"preview_button",onClick:s[1]||(s[1]=t=>l.value+=1),disabled:l.value===M.value-1},[o(c(q),{class:"-scale-x-100"})],8,Ye),o(F,{class:"mx-3 grow !bg-dark-text",value:l.value,"onUpdate:value":s[2]||(s[2]=t=>l.value=t),min:0,max:M.value-1,step:1},null,8,["value","max"]),e("button",Ze,[o(c(ye))])])])]),_:1}))}},ct=z(et,[["__scopeId","data-v-b51510d4"]]);export{ct as default};
