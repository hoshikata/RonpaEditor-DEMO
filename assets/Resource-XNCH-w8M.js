import{o as d,c as u,a as n,_ as b,r as w,g as T,x as q,w as D,e as r,C as k,J as v,d as p,n as g,G as y,U as C,t as B,S as $,z as I,E as x}from"./index-CpSbDrPX.js";import{A as U}from"./Aspect-K-Y1qnUj.js";import{I as L}from"./round-drag-indicator-MOEJInyk.js";import{I as V,D as N}from"./IconDelete-kZHmoOpT.js";import{U as R}from"./Upload-BLqjhx75.js";import{_ as S}from"./Image-BOUAzWw2.js";const M={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},A=n("path",{fill:"currentColor",d:"M16.62 2.99a1.25 1.25 0 0 0-1.77 0L6.54 11.3a.996.996 0 0 0 0 1.41l8.31 8.31c.49.49 1.28.49 1.77 0s.49-1.28 0-1.77L9.38 12l7.25-7.25c.48-.48.48-1.28-.01-1.76"},null,-1),F=[A];function z(e,c){return d(),u("svg",M,[...F])}const h={name:"ic-round-arrow-back-ios",render:z},E={class:"fancy_bg"},K={__name:"Fancy",props:{open:{type:[Boolean],default:!1},index:{type:[Number],default:0},length:{type:[Number],default:0}},emits:["update:open","prev","next"],setup(e,{emit:c}){const o=e,l=c,i=w(null);T(()=>o.open,a=>{a&&C(()=>i.value.focus())});const t=a=>{const s=a.target.matches(".fancy_bg *, .fancy_prev"),f=a.target.matches(".fancy_close");(!s||f)&&l("update:open",!1)};return(a,s)=>{const f=q("visible");return D((d(),u("section",{class:"fancy",onClick:t,onKeydown:[s[2]||(s[2]=y(m=>l("prev"),["left"])),s[3]||(s[3]=y(m=>l("next"),["right"]))],tabindex:"0",ref_key:"fancy",ref:i},[r(U,null,{default:k(()=>[n("div",E,[v(a.$slots,"default",{},void 0,!0)])]),_:3}),n("button",{class:g(["fancy_prev",{"!opacity-0":!e.length||e.index===0}]),onClick:s[0]||(s[0]=m=>l("prev")),title:"前へ"},[r(p(h),{class:"pointer-events-none"})],2),n("button",{class:g(["fancy_prev -next",{"!opacity-0":!e.length||e.index===e.length-1}]),onClick:s[1]||(s[1]=m=>l("next")),title:"次へ"},[r(p(h),{class:"pointer-events-none -scale-x-100"})],2)],32)),[[f,e.open]])}}},re=b(K,[["__scopeId","data-v-baf4ef40"]]),j={name:"MaterialSymbolsSyncRounded"},G={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},H=n("path",{fill:"currentColor",d:"M6 12.05q0 1.125.425 2.188T7.75 16.2l.25.25V15q0-.425.288-.712T9 14t.713.288T10 15v4q0 .425-.288.713T9 20H5q-.425 0-.712-.288T4 19t.288-.712T5 18h1.75l-.4-.35q-1.3-1.15-1.825-2.625T4 12.05Q4 9.7 5.2 7.787T8.425 4.85q.35-.2.738-.025t.512.575q.125.375-.012.75t-.488.575q-1.45.8-2.312 2.213T6 12.05m12-.1q0-1.125-.425-2.187T16.25 7.8L16 7.55V9q0 .425-.288.713T15 10t-.712-.288T14 9V5q0-.425.288-.712T15 4h4q.425 0 .713.288T20 5t-.288.713T19 6h-1.75l.4.35q1.225 1.225 1.788 2.663T20 11.95q0 2.35-1.2 4.263t-3.225 2.937q-.35.2-.737.025t-.513-.575q-.125-.375.013-.75t.487-.575q1.45-.8 2.313-2.212T18 11.95"},null,-1),J=[H];function O(e,c,o,l,i,t){return d(),u("svg",G,J)}const P=b(j,[["render",O]]),Q=["draggable"],W={class:"relative"},X=["disabled"],Y=["title"],Z={class:"resource_button",title:"更新画像"},_={key:0,class:"resource_button",title:"ドラッグ"},ee={__name:"Resource",props:{data:{type:[Object],default:()=>({})},hasDrag:{type:[Boolean],default:!1},draggable:{type:[Boolean],default:!0},col:{type:[Boolean],default:!0}},emits:["update:data","drag","drop","fancy","add","del","upload"],setup(e,{emit:c}){const o=c,l=w(!0);return(i,t)=>(d(),u("div",{class:g(["resource_item",{"-dragging":e.data.dragging,"flex-col":e.col}]),draggable:e.data.is_drag&&e.draggable,onDragstart:t[7]||(t[7]=a=>o("drag",[a,!0])),onDragend:t[8]||(t[8]=a=>o("drag",[a,!1])),onDrag:t[9]||(t[9]=x(()=>{},["prevent"])),onDrop:t[10]||(t[10]=x(()=>{},["prevent"]))},[n("div",W,[n("button",{class:"resource_open",onClick:t[1]||(t[1]=a=>o("fancy",e.data.path)),disabled:!l.value,title:"開く"},[v(i.$slots,"image",{},()=>[r(S,{class:"resource_image",src:e.data.path,onLoad:t[0]||(t[0]=a=>l.value=a)},null,8,["src"])],!0)],8,X)]),n("div",{class:g(["resource_detail",{"flex-col":!e.col}])},[n("p",{class:"resource_title",title:decodeURI(e.data.path)},B(e.data.name),9,Y),v(i.$slots,"button",{},()=>[n("label",Z,[r(P),r(R,{class:"hidden",value:e.data.path,"onUpdate:value":t[2]||(t[2]=a=>e.data.path=a),name:e.data.name,"onUpdate:name":t[3]||(t[3]=a=>e.data.name=a),onUpload:t[4]||(t[4]=a=>o("upload",a))},null,8,["value","name"])])],!0),n("button",{class:"resource_button",onClick:t[5]||(t[5]=a=>o("del",e.data.id)),title:"削除"},[r(V)]),e.draggable?(d(),u("button",_,[r(p(L))])):$("",!0)],2),e.draggable?(d(),I(N,{key:0,class:"resource_dragline",onDrop:t[6]||(t[6]=a=>o("drop",a)),dragging:e.hasDrag},null,8,["dragging"])):$("",!0)],42,Q))}},ie=b(ee,[["__scopeId","data-v-ab748997"]]);export{re as F,ie as R};
