import{a as k}from"./IconDelete-nuF1Dwna.js";import{U as B}from"./Upload-SFxI67cP.js";import{_ as S}from"./Image-VlQ1-7jx.js";import{F as U,R as $}from"./Resource-DQftpakW.js";import{b as p,s as N,S as V,i as b,o as u,c as g,a as f,F as w,x as A,d as e,e as m,C,y as P}from"./index-DMwXrg5Y.js";import"./round-drag-indicator-Bd1fuKGS.js";const E={class:"resource_container"},L={class:"resource"},T={class:"resource_plus",title:"新規"},M={__name:"Viewer",props:{name:{type:[String],default:""}},setup(n){const D=n,v=p(),{imagesResource:a}=N(v),{delItem:y,uploadItem:d,getDrag:F,dragItem:R,dropItem:x,fancy:r,setFancy:I,changeFancy:c}=V(),h=b(()=>F(a.value[D.name]));return(j,t)=>{var i;return u(),g("div",E,[f("div",L,[(u(!0),g(w,null,A(e(a)[n.name]??[],(o,l)=>(u(),P($,{key:n.name+"_"+o.id,data:o,list:e(a)[n.name],hasDrag:h.value,onDrag:s=>e(R)(e(a)[n.name],...s,l),onDrop:s=>e(x)(e(a)[n.name],s,l+1),onFancy:t[0]||(t[0]=s=>e(I)(e(a)[n.name],s)),onAdd:s=>e(d)(e(a)[n.name],l+1,[s]),onDel:s=>e(y)(e(a)[n.name],l)},null,8,["data","list","hasDrag","onDrag","onDrop","onAdd","onDel"]))),128))]),f("label",T,[m(e(k)),m(B,{class:"hidden",onUpload:t[1]||(t[1]=o=>e(d)(e(a)[n.name],e(a)[n.name].length,o)),multiple:!0})]),m(U,{open:e(r).open,"onUpdate:open":t[2]||(t[2]=o=>e(r).open=o),index:e(r).index,length:(i=e(a)[n.name])==null?void 0:i.length,onPrev:t[3]||(t[3]=o=>e(c)(e(a)[n.name],-1)),onNext:t[4]||(t[4]=o=>e(c)(e(a)[n.name],1))},{default:C(()=>[m(S,{src:e(r).value},null,8,["src"])]),_:1},8,["open","index","length"])])}}};export{M as default};
