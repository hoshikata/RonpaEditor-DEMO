import{o as m,c as p,a as t,_ as L,u as I,s as M,j as D,x as E,e as l,C as H,F as U,y as N,d as C,w as a,v as A,n as y,M as _,k as v,E as $,K as T,L as j,H as K}from"./index-CyJrGj8D.js";import{U as V}from"./Upload-BqinWinQ.js";import{_ as R}from"./Image-DSnKcMXH.js";import{C as X}from"./Control-UlmGQt4H.js";/* empty css                                                             */import{D as k}from"./IconDelete-CJ2MkJpE.js";import{H as q}from"./Header-BXH0D3LI.js";import"./round-drag-indicator-BvIf1Phh.js";const G={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},J=t("path",{fill:"currentColor",d:"m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"},null,-1),O=[J];function P(u,c){return m(),p("svg",G,[...O])}const Q={name:"ic-round-star",render:P},d=u=>(T("data-v-8e2375a3"),u=u(),j(),u),W={class:"setting_wrap"},Y=d(()=>t("div",null,null,-1)),Z=d(()=>t("div",{class:"setting_head"},[t("h2",{class:"setting_title"},"アイコン"),t("p",{class:"setting_desc"},"ゲーム内表示"),t("p",{class:"setting_desc highlight"},"★ = 主人公")],-1)),ee=d(()=>t("div",{class:"setting_head col-span-2"},[t("h2",{class:"setting_title"},"お名前"),t("p",{class:"setting_desc"},"EXCEL内表示")],-1)),se=d(()=>t("div",{class:"setting_head"},[t("h2",{class:"setting_title"},"名札"),t("p",{class:"setting_desc"},"ゲーム内表示"),t("p",{class:"setting_desc"},"（画像のない場合はカタカナ表示になります）")],-1)),te=["draggable","onDragstart","onDragend"],oe={class:"setting_avatar"},ne=["onClick"],le={class:"setting_detail",draggable:"false"},ae=["onUpdate:modelValue","disabled","onFocus","onBlur"],ie={class:"setting_col"},de=d(()=>t("p",{class:"ml-0.5"},"名前の色",-1)),_e=["onUpdate:modelValue","onFocus","onBlur"],ue=["onUpdate:modelValue"],ge={class:"setting_detail"},re=["onUpdate:modelValue","disabled","onFocus","onBlur"],me={class:"setting_col"},pe=d(()=>t("p",{class:"ml-0.5"},"名前の背景色",-1)),ve=["onUpdate:modelValue","onFocus","onBlur"],ce=["onUpdate:modelValue"],be=d(()=>t("div",{class:"col-span-5 mb-4"},null,-1)),fe={__name:"Character",setup(u){const c=I(),{characterList:i,characterNew:B}=M(c),{dragMove:w,dropMove:x}=K(),z=D(()=>i.value.some(o=>o.is_hero)),F=o=>i.value.splice(o+1,0,{...B.value}),S=o=>i.value.splice(o,1),b=D(()=>i.value.some(o=>o.dragging)),f=(o,n,g)=>{g&&w(o,{index:n}),i.value[n].dragging=g},h=(o,n)=>x(i.value,o.index,n);return(o,n)=>{const g=E("visible");return m(),p("div",W,[l(q,{col:"col-span-5"},{default:H(()=>[Y,Z,ee,se]),_:1}),l(k,{class:"setting_dragline",onDrop:n[0]||(n[0]=e=>h(e,0)),dragging:b.value},null,8,["dragging"]),(m(!0),p(U,null,N(C(i),(e,r)=>(m(),p(U,{key:e.id},[t("section",{class:y(["setting_container",{dragging:e.dragging}]),draggable:e.is_drag,onDragstart:s=>f(s,r,!0),onDragend:s=>f(s,r,!1),onDrag:n[1]||(n[1]=$(()=>{},["prevent"])),onDrop:n[2]||(n[2]=$(()=>{},["prevent"]))},[l(X,{class:"row-span-2 -mr-6",hasDel:!e.disabled,onAdd:s=>F(r),onDel:s=>S(r)},null,8,["hasDel","onAdd","onDel"]),t("div",oe,[a(l(R,{class:"setting_avatar_img",src:e.default_head},null,8,["src"]),[[g,e.disabled&&!e.image_head]]),l(V,{class:"size-full",value:e.image_head,"onUpdate:value":s=>e.image_head=s,type:"cover"},null,8,["value","onUpdate:value"]),a((m(),p("button",{class:y(["setting_star",{"setting_star-active":e.is_hero}]),onClick:s=>e.is_hero=!e.is_hero,title:"主人公"},[l(C(Q))],10,ne)),[[g,!(z.value&&!e.is_hero)],[A,!e.disabled]])]),t("div",le,[a(t("input",{class:"setting_name last","onUpdate:modelValue":s=>e.name=s,style:v({"--name-bg":e.name_bg,"--name-text":e.name_text}),disabled:e.disabled,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,44,ae),[[_,e.name,void 0,{lazy:!0,trim:!0}]]),t("div",ie,[de,a(t("input",{class:"setting_input","onUpdate:modelValue":s=>e.name_text=s,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,_e),[[_,e.name_text,void 0,{lazy:!0,trim:!0}]]),t("label",{class:"setting_color",style:v({"background-color":e.name_text})},[a(t("input",{class:"hidden","onUpdate:modelValue":s=>e.name_text=s,type:"color"},null,8,ue),[[_,e.name_text,void 0,{lazy:!0}]])],4)])]),t("div",ge,[a(t("input",{class:"setting_name first","onUpdate:modelValue":s=>e.katakana=s,disabled:e.disabled,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,re),[[_,e.katakana,void 0,{lazy:!0,trim:!0}]]),t("div",me,[pe,a(t("input",{class:"setting_input","onUpdate:modelValue":s=>e.name_bg=s,onFocus:s=>e.is_drag=!1,onBlur:s=>e.is_drag=!0},null,40,ve),[[_,e.name_bg,void 0,{lazy:!0,trim:!0}]]),t("label",{class:"setting_color",style:v({"background-color":e.name_bg})},[a(t("input",{class:"hidden","onUpdate:modelValue":s=>e.name_bg=s,type:"color"},null,8,ce),[[_,e.name_bg,void 0,{lazy:!0}]])],4)])]),l(V,{class:"setting_nametag",value:e.image_name,"onUpdate:value":s=>e.image_name=s},null,8,["value","onUpdate:value"])],42,te),l(k,{class:"setting_dragline",onDrop:s=>h(s,r+1),dragging:b.value},null,8,["onDrop","dragging"])],64))),128)),be])}}},Be=L(fe,[["__scopeId","data-v-8e2375a3"]]);export{Be as default};
