import{a as Y}from"./IconDelete-Bb2hnSld.js";import{U as M,I as ie}from"./UiItem-DibrLdpM.js";import{_ as L,o as h,c as b,a as e,r as ee,g as T,F as S,y as B,w as F,Q as _e,t as g,b as te,s as ae,p as se,i as oe,j as z,x as pe,e as o,C as D,d as n,z as le,v as G,K as ne,L as ue,B as W,D as Z}from"./index-BQ2Xw64U.js";import{_ as de,S as J}from"./Dialog-DwwVMHFA.js";import{_ as re}from"./Image-BEGzBmzy.js";import{U as ce}from"./Upload-BfV_chxq.js";import{R as C,F as X}from"./Resource-Dp_u5UDQ.js";import{R as U}from"./Range-CuQGCy6F.js";import{A as ve}from"./Aspect-DiNwTsTm.js";import"./round-drag-indicator-BfAC6Abt.js";const ge={name:"PhCopyFill"},he={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},me=e("path",{fill:"currentColor",d:"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-8 128h-32V88a8 8 0 0 0-8-8H96V48h112Z"},null,-1),fe=[me];function be(p,$,m,c,v,i){return h(),b("svg",he,fe)}const Ue=L(ge,[["render",be]]),ye={class:"flex"},$e=["value","name"],we={class:"radio_text"},Ie={__name:"Radio",props:{value:{type:[Number,String,Boolean],default:""},list:{type:[Array],default:()=>[]},name:{type:[String],default:""}},emits:["update:value"],setup(p,{emit:$}){const m=p,c=$,v=ee("");return T(v,i=>c("update:value",i)),T(()=>m.value,i=>v.value=i,{immediate:!0}),(i,y)=>(h(),b("div",ye,[(h(!0),b(S,null,B(p.list,_=>(h(),b("label",{key:p.name+"_"+((_==null?void 0:_.id)??_),class:"group flex items-center"},[F(e("input",{class:"radio","onUpdate:modelValue":y[0]||(y[0]=R=>v.value=R),value:(_==null?void 0:_.id)??_,name:p.name,type:"radio"},null,8,$e),[[_e,v.value]]),e("span",we,g((_==null?void 0:_.title)??(_==null?void 0:_.name)??(_==null?void 0:_.id)??_),1)]))),128))]))}},I=L(Ie,[["__scopeId","data-v-3267ec6c"]]),u=p=>(ne("data-v-3a396275"),p=p(),ue(),p),De={class:"popup_window"},xe={class:"popup_container scrollbar"},ke={class:"popup_side"},Fe={class:"contents"},Ce=u(()=>e("label",null,"名前",-1)),Se={class:"contents"},Be={class:"popup_plus_group"},Re=u(()=>e("label",null,"画像",-1)),Ve={class:"popup_plus",title:"新規"},Ae={class:"popup_images_group"},Le={class:"contents"},Ne=u(()=>e("label",null,"クリッピング",-1)),je={class:"popup_images_group"},Ee=u(()=>e("hr",{class:"popup_hr"},null,-1)),Pe=u(()=>e("h4",{class:"popup_title"},"ダイアログ",-1)),He={class:"contents"},Oe=u(()=>e("label",null,"位置：下",-1)),qe={class:"popup_range_group"},Ge={class:"contents"},Me=u(()=>e("label",null,"位置：左",-1)),Te={class:"popup_range_group"},ze={class:"contents"},Ke=u(()=>e("label",null,"広さ",-1)),Qe={class:"popup_range_group"},We=u(()=>e("hr",{class:"popup_hr"},null,-1)),Ze=u(()=>e("h4",{class:"popup_title"},"名札",-1)),Je={class:"contents"},Xe=u(()=>e("label",null,"名札の数",-1)),Ye={class:"contents"},et=u(()=>e("label",null,"独り言の表示",-1)),tt={class:"contents"},at=u(()=>e("h5",{class:"popup_subtitle"},"名札の位置",-1)),st={class:"contents"},ot=u(()=>e("label",null,"独り言",-1)),lt={class:"contents"},nt=u(()=>e("label",null,"主人公",-1)),ut={class:"contents"},it=u(()=>e("label",null,"立ち絵1",-1)),_t={class:"contents"},pt=u(()=>e("label",null,"立ち絵2",-1)),dt={class:"contents"},rt={class:"popup_subtitle"},ct={class:"contents"},vt=u(()=>e("label",null,"画像",-1)),gt={class:"popup_images_group"},ht={class:"contents"},mt=u(()=>e("label",null,"位置：下",-1)),ft={class:"popup_range_group"},bt={class:"contents"},Ut=u(()=>e("label",null,"位置：左",-1)),yt={class:"popup_range_group"},$t={class:"contents"},wt=u(()=>e("label",null,"高さ",-1)),It={class:"popup_range_group"},Dt=u(()=>e("hr",{class:"popup_hr"},null,-1)),xt=u(()=>e("h4",{class:"popup_title"},"立ち絵",-1)),kt={class:"contents"},Ft=u(()=>e("label",null,"立ち絵の数",-1)),Ct={class:"contents"},St={class:"popup_subtitle"},Bt={class:"contents"},Rt=u(()=>e("label",null,"クリッピング",-1)),Vt={class:"popup_images_group"},At={class:"contents"},Lt=u(()=>e("label",null,"位置：上",-1)),Nt={class:"popup_range_group"},jt={class:"contents"},Et=u(()=>e("label",null,"位置：左",-1)),Pt={class:"popup_range_group"},Ht={class:"contents"},Ot=u(()=>e("label",null,"広さ",-1)),qt={class:"popup_range_group"},Gt=u(()=>e("button",{class:"popup_foot_button -cancel"},"キャンセル",-1)),Mt={__name:"UiEdit",props:{open:{type:[Boolean],default:!1},id:{type:[Number,String],default:""}},emits:["update:open","add","fancy"],setup(p,{emit:$}){const m=p,c=$,v=te(),{newUI:i}=v,{uiList:y}=ae(v),{isDev:_,copyObject:R,findData:V}=se(),{delItem:j,uploadItem:E,getDrag:P,dragItem:H,dropItem:x,fancy:K,setFancy:O,changeFancy:Q}=oe(),a=ee({dialog:{},sprite_1:{},sprite_2:{},name_tag_1:{},name_tag_2:{}}),w=z(()=>P(a.value.images)),f=[{id:!1,name:"1の位置"},{id:!0,name:"2の位置"}],q=()=>{const r=V(y.value,m.id);m.id==="add"?y.value.push(a.value):a.value=Object.assign(r,a.value),c("update:open",!1)},A=r=>{const s=r.target.matches(".popup_window, .popup_window *"),k=r.target.matches(".-cancel");!r.target.matches(".resource_button")&&(!s||k)&&c("update:open",!1)};return T(()=>m.open,r=>{if(!r)return;const s=V(y.value,m.id);m.id==="add"?a.value=i():a.value=R(s),_&&console.log({...a.value})}),(r,s)=>{const k=pe("visible");return F((h(),b("section",{class:"popup",onClick:A},[e("div",De,[e("div",xe,[o(ve,{class:"popup_aspect !h-cqh lg:!h-[calc(100cqw/16*9)]"},{default:D(()=>[o(M,{class:"border border-current",data:a.value,large:!0,edit:!0},null,8,["data"])]),_:1}),e("section",ke,[e("div",Fe,[Ce,o(de,{class:"popup_input",value:a.value.name,"onUpdate:value":s[0]||(s[0]=t=>a.value.name=t)},null,8,["value"])]),e("div",Se,[e("div",Be,[Re,e("label",Ve,[o(n(Y)),o(ce,{class:"hidden",onUpload:s[1]||(s[1]=t=>n(E)(a.value.images,a.value.images.length,t)),multiple:!0})])]),e("div",Ae,[(h(!0),b(S,null,B(a.value.images??[],(t,l)=>(h(),le(C,{key:t.id,data:t,hasDrag:w.value,onDrag:d=>n(H)(a.value.images,...d,l),onDrop:d=>n(x)(a.value.images,d,l+1),onFancy:s[2]||(s[2]=d=>c("fancy",d)),onDel:d=>n(j)(a.value.images,l)},null,8,["data","hasDrag","onDrag","onDrop","onDel"]))),128))])]),e("div",Le,[Ne,e("div",je,[o(C,{data:{path:a.value.mask},draggable:!1,onUpload:s[3]||(s[3]=t=>a.value.mask=t.path),onDel:s[4]||(s[4]=t=>a.value.mask=""),onFancy:s[5]||(s[5]=t=>c("fancy",t))},null,8,["data"])])]),Ee,Pe,e("div",He,[Oe,e("div",qe,[o(U,{value:a.value.dialog.bottom,"onUpdate:value":s[6]||(s[6]=t=>a.value.dialog.bottom=t),min:-100,max:100,step:1},null,8,["value"]),e("span",null,g(a.value.dialog.bottom),1)])]),e("div",Ge,[Me,e("div",Te,[o(U,{value:a.value.dialog.left,"onUpdate:value":s[7]||(s[7]=t=>a.value.dialog.left=t),min:-100,max:100,step:1},null,8,["value"]),e("span",null,g(a.value.dialog.left),1)])]),e("div",ze,[Ke,e("div",Qe,[o(U,{value:a.value.dialog.width,"onUpdate:value":s[8]||(s[8]=t=>a.value.dialog.width=t),min:50,max:100,step:1},null,8,["value"]),e("span",null,g(a.value.dialog.width),1)])]),We,Ze,e("div",Je,[Xe,o(I,{value:a.value.name_tag_number,"onUpdate:value":s[9]||(s[9]=t=>a.value.name_tag_number=t),list:[1,2],name:"name_tag"},null,8,["value"])]),e("div",Ye,[et,o(I,{value:a.value.name_tag_solo_show,"onUpdate:value":s[10]||(s[10]=t=>a.value.name_tag_solo_show=t),list:[{id:!1,name:"非表示"},{id:!0,name:"表示"}],name:"name_tag_solo_show"},null,8,["value"])]),F(e("div",tt,[at,e("div",st,[ot,o(I,{value:a.value.name_tag_solo_right,"onUpdate:value":s[11]||(s[11]=t=>a.value.name_tag_solo_right=t),list:f,name:"name_tag_solo_right"},null,8,["value"])]),e("div",lt,[nt,o(I,{value:a.value.name_tag_hero_right,"onUpdate:value":s[12]||(s[12]=t=>a.value.name_tag_hero_right=t),list:f,name:"name_tag_hero_right"},null,8,["value"])]),e("div",ut,[it,o(I,{value:a.value.name_tag_sprite_1_right,"onUpdate:value":s[13]||(s[13]=t=>a.value.name_tag_sprite_1_right=t),list:f,name:"name_tag_sprite_1_right"},null,8,["value"])]),e("div",_t,[pt,o(I,{value:a.value.name_tag_sprite_2_right,"onUpdate:value":s[14]||(s[14]=t=>a.value.name_tag_sprite_2_right=t),list:f,name:"name_tag_sprite_2_right"},null,8,["value"])])],512),[[G,a.value.name_tag_number===2]]),(h(),b(S,null,B(2,t=>F(e("div",dt,[e("h5",rt,"名札"+g(t),1),e("div",ct,[vt,e("div",gt,[o(C,{data:{path:a.value["name_tag_"+t].path},draggable:!1,onUpload:l=>a.value["name_tag_"+t].path=l.path,onDel:l=>a.value["name_tag_"+t].path="",onFancy:s[15]||(s[15]=l=>c("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",ht,[mt,e("div",ft,[o(U,{value:a.value["name_tag_"+t].bottom,"onUpdate:value":l=>a.value["name_tag_"+t].bottom=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["name_tag_"+t].bottom),1)])]),e("div",bt,[Ut,e("div",yt,[o(U,{value:a.value["name_tag_"+t].left,"onUpdate:value":l=>a.value["name_tag_"+t].left=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["name_tag_"+t].left),1)])]),e("div",$t,[wt,e("div",It,[o(U,{value:a.value["name_tag_"+t].height,"onUpdate:value":l=>a.value["name_tag_"+t].height=l,min:1,max:20,step:.5},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["name_tag_"+t].height),1)])])],512),[[G,t===1||t===2&&a.value.name_tag_number===2]])),64)),Dt,xt,e("div",kt,[Ft,o(I,{value:a.value.sprite_number,"onUpdate:value":s[16]||(s[16]=t=>a.value.sprite_number=t),list:[1,2],name:"sprite"},null,8,["value"])]),(h(),b(S,null,B(2,t=>F(e("div",Ct,[e("h5",St,"立ち絵"+g(t),1),e("div",Bt,[Rt,e("div",Vt,[o(C,{data:{path:a.value["sprite_"+t].mask},draggable:!1,onUpload:l=>a.value["sprite_"+t].mask=l.path,onDel:l=>a.value["sprite_"+t].mask="",onFancy:s[17]||(s[17]=l=>c("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",At,[Lt,e("div",Nt,[o(U,{value:a.value["sprite_"+t].top,"onUpdate:value":l=>a.value["sprite_"+t].top=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["sprite_"+t].top),1)])]),e("div",jt,[Et,e("div",Pt,[o(U,{value:a.value["sprite_"+t].left,"onUpdate:value":l=>a.value["sprite_"+t].left=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["sprite_"+t].left),1)])]),e("div",Ht,[Ot,e("div",qt,[o(U,{value:a.value["sprite_"+t].width,"onUpdate:value":l=>a.value["sprite_"+t].width=l,min:20,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(a.value["sprite_"+t].width),1)])])],512),[[G,t===1||t===2&&a.value.sprite_number===2]])),64)),e("div",{class:"popup_foot"},[e("button",{class:"popup_foot_button",onClick:q},"保存"),Gt])])])])])),[[k,p.open]])}}},Tt=L(Mt,[["__scopeId","data-v-3a396275"]]),N=p=>(ne("data-v-5711d6bc"),p=p(),ue(),p),zt={class:"resource_container"},Kt={class:"resource"},Qt=["onClick"],Wt=["onClick"],Zt={class:"resource_footer"},Jt={class:"resource_group !flex-wrap !gap-x-5"},Xt={class:"resource_group"},Yt=N(()=>e("span",null,"デフォルトUI",-1)),ea=N(()=>e("option",{value:""},"なし",-1)),ta={class:"resource_group"},aa=N(()=>e("span",null,"CGのUI設定",-1)),sa=N(()=>e("option",{value:""},"固定なし",-1)),oa={__name:"UI",setup(p){const $=te(),{newUI:m}=$,{defaultUI:c,defaultUIForCG:v,uiList:i}=ae($),{copyObject:y,findData:_,findIndex:R}=se(),{delItem:V,uploadItem:j,getDrag:E,dragItem:P,dropItem:H,fancy:x,setFancy:K,changeFancy:O}=oe(),Q=z(()=>E(i.value)),a=z(()=>_(i.value,x.value)),w=W({open:!1,id:""}),f=W({open:!1,value:""}),q=r=>{const s=y(i.value[r]);s.id=m(i.value),i.value.splice(r,0,s)},A=r=>{w.id=r,w.open=!0};return(r,s)=>{var k;return h(),b("div",zt,[e("div",Kt,[(h(!0),b(S,null,B(n(i)??[],(t,l)=>(h(),le(C,{key:t.id,data:t,hasDrag:Q.value,onDrag:d=>n(P)(n(i),...d,l),onDrop:d=>n(H)(n(i),d,l+1),onFancy:d=>n(K)(n(i),t.id,"id"),onAdd:d=>n(j)(n(i),l+1,[d]),onDel:d=>n(V)(n(i),l)},{image:D(()=>[o(M,{class:"hover:opacity-75",data:t,edit:!0},null,8,["data"])]),button:D(()=>[e("label",{class:"resource_button",onClick:d=>q(l),title:"コピー"},[o(Ue,{class:"mt-0.5"})],8,Qt),e("label",{class:"resource_button",onClick:d=>A(t.id),title:"編集"},[o(ie,{class:"mt-0.5"})],8,Wt)]),_:2},1032,["data","hasDrag","onDrag","onDrop","onFancy","onAdd","onDel"]))),128))]),e("div",Zt,[e("div",Jt,[e("label",Xt,[Yt,o(J,{class:"resource_select",value:n(c),"onUpdate:value":s[0]||(s[0]=t=>Z(c)?c.value=t:null),options:n(i)},{default:D(()=>[ea]),_:1},8,["value","options"])]),e("label",ta,[aa,o(J,{class:"resource_select",value:n(v),"onUpdate:value":s[1]||(s[1]=t=>Z(v)?v.value=t:null),options:n(i)},{default:D(()=>[sa]),_:1},8,["value","options"])])]),e("label",{class:"resource_plus",onClick:s[2]||(s[2]=t=>A("add")),title:"新規"},[o(n(Y))])]),o(Tt,{open:w.open,"onUpdate:open":s[3]||(s[3]=t=>w.open=t),id:w.id,onFancy:s[4]||(s[4]=t=>{f.value=t,f.open=!0})},null,8,["open","id"]),o(X,{open:f.open,"onUpdate:open":s[5]||(s[5]=t=>f.open=t)},{default:D(()=>[o(re,{src:f.value},null,8,["src"])]),_:1},8,["open"]),o(X,{open:n(x).open,"onUpdate:open":s[6]||(s[6]=t=>n(x).open=t),index:n(x).index,length:(k=n(i))==null?void 0:k.length,onPrev:s[7]||(s[7]=t=>n(O)(n(i),-1,"id")),onNext:s[8]||(s[8]=t=>n(O)(n(i),1,"id"))},{default:D(()=>[o(M,{data:a.value,large:!0,edit:!0},null,8,["data"])]),_:1},8,["open","index","length"])])}}},ga=L(oa,[["__scopeId","data-v-5711d6bc"]]);export{ga as default};
