import{a as Y}from"./IconDelete-D1Rkv-T6.js";import{U as M,I as ue}from"./UiItem-78Z7lXCF.js";import{_ as L,o as h,c as b,a as e,r as ee,g as T,F as S,y as R,w as F,Q as _e,t as g,b as se,s as te,p as ae,i as oe,j as z,x as ie,e as o,A as D,d as n,z as le,v as G,K as ne,L as pe,C as W,D as Z}from"./index-LFuWRgYK.js";import{_ as de,S as J}from"./Dialog-C4zQjDOr.js";import{_ as ce}from"./Image-9lzuy1l-.js";import{U as re}from"./Upload-NkyLnyA7.js";import{R as C,F as X}from"./Resource-ByW1NPfS.js";import{R as U}from"./Range-BIPSa92u.js";import{A as ve}from"./Aspect-beUb_wRP.js";import"./round-drag-indicator-DwFPABPk.js";const ge={name:"PhCopyFill"},he={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},me=e("path",{fill:"currentColor",d:"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-8 128h-32V88a8 8 0 0 0-8-8H96V48h112Z"},null,-1),fe=[me];function be(i,$,m,r,v,u){return h(),b("svg",he,fe)}const Ue=L(ge,[["render",be]]),ye={class:"flex"},$e=["value","name"],we={class:"radio_text"},Ie={__name:"Radio",props:{value:{type:[Number,String,Boolean],default:""},list:{type:[Array],default:()=>[]},name:{type:[String],default:""}},emits:["update:value"],setup(i,{emit:$}){const m=i,r=$,v=ee("");return T(v,u=>r("update:value",u)),T(()=>m.value,u=>v.value=u,{immediate:!0}),(u,y)=>(h(),b("div",ye,[(h(!0),b(S,null,R(i.list,_=>(h(),b("label",{key:i.name+"_"+((_==null?void 0:_.id)??_),class:"group flex items-center"},[F(e("input",{class:"radio","onUpdate:modelValue":y[0]||(y[0]=B=>v.value=B),value:(_==null?void 0:_.id)??_,name:i.name,type:"radio"},null,8,$e),[[_e,v.value]]),e("span",we,g((_==null?void 0:_.title)??(_==null?void 0:_.name)??(_==null?void 0:_.id)??_),1)]))),128))]))}},I=L(Ie,[["__scopeId","data-v-3267ec6c"]]),p=i=>(ne("data-v-14057371"),i=i(),pe(),i),De={class:"popup_window"},xe={class:"popup_container scrollbar"},ke={class:"popup_side"},Fe={class:"contents"},Ce=p(()=>e("h6",{class:"popup_label"},"名前",-1)),Se={class:"contents"},Re={class:"popup_plus_group"},Be=p(()=>e("h6",{class:"popup_label"},"画像",-1)),Ae={class:"popup_plus",title:"新規"},Ve={class:"popup_images_group"},Le={class:"contents"},Ne=p(()=>e("h6",{class:"popup_label"},"クリッピング",-1)),je={class:"popup_images_group"},Ee=p(()=>e("hr",{class:"popup_hr"},null,-1)),Pe=p(()=>e("h4",{class:"popup_title"},"ダイアログ",-1)),He={class:"contents"},Oe=p(()=>e("h6",{class:"popup_label"},"位置：下",-1)),qe={class:"popup_range_group"},Ge={class:"contents"},Me=p(()=>e("h6",{class:"popup_label"},"位置：左",-1)),Te={class:"popup_range_group"},ze={class:"contents"},Ke=p(()=>e("h6",{class:"popup_label"},"広さ",-1)),Qe={class:"popup_range_group"},We=p(()=>e("hr",{class:"popup_hr"},null,-1)),Ze=p(()=>e("h4",{class:"popup_title"},"名札",-1)),Je={class:"contents"},Xe=p(()=>e("h6",{class:"popup_label"},"名札の数",-1)),Ye={class:"contents"},es=p(()=>e("h6",{class:"popup_label"},"独り言の表示",-1)),ss={class:"contents"},ts=p(()=>e("h5",{class:"popup_subtitle"},"名札の位置",-1)),as={class:"contents"},os=p(()=>e("h6",{class:"popup_label"},"独り言",-1)),ls={class:"contents"},ns=p(()=>e("h6",{class:"popup_label"},"主人公",-1)),ps={class:"contents"},us=p(()=>e("h6",{class:"popup_label"},"立ち絵1",-1)),_s={class:"contents"},is=p(()=>e("h6",{class:"popup_label"},"立ち絵2",-1)),ds={class:"contents"},cs={class:"popup_subtitle"},rs={class:"contents"},vs=p(()=>e("h6",{class:"popup_label"},"画像",-1)),gs={class:"popup_images_group"},hs={class:"contents"},ms=p(()=>e("h6",{class:"popup_label"},"位置：下",-1)),fs={class:"popup_range_group"},bs={class:"contents"},Us=p(()=>e("h6",{class:"popup_label"},"位置：左",-1)),ys={class:"popup_range_group"},$s={class:"contents"},ws=p(()=>e("h6",{class:"popup_label"},"高さ",-1)),Is={class:"popup_range_group"},Ds=p(()=>e("hr",{class:"popup_hr"},null,-1)),xs=p(()=>e("h4",{class:"popup_title"},"立ち絵",-1)),ks={class:"contents"},Fs=p(()=>e("h6",{class:"popup_label"},"立ち絵の数",-1)),Cs={class:"contents"},Ss={class:"popup_subtitle"},Rs={class:"contents"},Bs=p(()=>e("h6",{class:"popup_label"},"クリッピング",-1)),As={class:"popup_images_group"},Vs={class:"contents"},Ls=p(()=>e("h6",{class:"popup_label"},"位置：上",-1)),Ns={class:"popup_range_group"},js={class:"contents"},Es=p(()=>e("h6",{class:"popup_label"},"位置：左",-1)),Ps={class:"popup_range_group"},Hs={class:"contents"},Os=p(()=>e("h6",{class:"popup_label"},"広さ",-1)),qs={class:"popup_range_group"},Gs=p(()=>e("button",{class:"popup_foot_button -cancel"},"キャンセル",-1)),Ms={__name:"UiEdit",props:{open:{type:[Boolean],default:!1},id:{type:[Number,String],default:""}},emits:["update:open","add","fancy"],setup(i,{emit:$}){const m=i,r=$,v=se(),{newUI:u}=v,{uiList:y}=te(v),{isDev:_,copyObject:B,findData:A}=ae(),{delItem:j,uploadItem:E,getDrag:P,dragItem:H,dropItem:x,fancy:K,setFancy:O,changeFancy:Q}=oe(),t=ee({dialog:{},sprite_1:{},sprite_2:{},name_tag_1:{},name_tag_2:{}}),w=z(()=>P(t.value.images)),f=[{id:!1,name:"1の位置"},{id:!0,name:"2の位置"}],q=()=>{const c=A(y.value,m.id);m.id==="add"?y.value.push(t.value):t.value=Object.assign(c,t.value),r("update:open",!1)},V=c=>{const a=c.target.matches(".popup_window, .popup_window *"),k=c.target.matches(".-cancel");!c.target.matches(".resource_button")&&(!a||k)&&r("update:open",!1)};return T(()=>m.open,c=>{if(!c)return;const a=A(y.value,m.id);m.id==="add"?t.value=u():t.value=B(a),_&&console.log({...t.value})}),(c,a)=>{const k=ie("visible");return F((h(),b("section",{class:"popup",onClick:V},[e("div",De,[e("div",xe,[o(ve,{class:"popup_aspect !h-cqh lg:!h-[calc(100cqw/16*9)]"},{default:D(()=>[o(M,{class:"border border-current",data:t.value,large:!0,edit:!0},null,8,["data"])]),_:1}),e("section",ke,[e("div",Fe,[Ce,o(de,{class:"popup_input",value:t.value.name,"onUpdate:value":a[0]||(a[0]=s=>t.value.name=s)},null,8,["value"])]),e("div",Se,[e("div",Re,[Be,e("label",Ae,[o(n(Y)),o(re,{class:"hidden",onUpload:a[1]||(a[1]=s=>n(E)(t.value.images,t.value.images.length,s)),multiple:!0})])]),e("div",Ve,[(h(!0),b(S,null,R(t.value.images??[],(s,l)=>(h(),le(C,{key:s.id,data:s,hasDrag:w.value,onDrag:d=>n(H)(t.value.images,...d,l),onDrop:d=>n(x)(t.value.images,d,l+1),onFancy:a[2]||(a[2]=d=>r("fancy",d)),onDel:d=>n(j)(t.value.images,l)},null,8,["data","hasDrag","onDrag","onDrop","onDel"]))),128))])]),e("div",Le,[Ne,e("div",je,[o(C,{data:{path:t.value.mask},draggable:!1,onUpload:a[3]||(a[3]=s=>t.value.mask=s.path),onDel:a[4]||(a[4]=s=>t.value.mask=""),onFancy:a[5]||(a[5]=s=>r("fancy",s))},null,8,["data"])])]),Ee,Pe,e("div",He,[Oe,e("div",qe,[o(U,{value:t.value.dialog.bottom,"onUpdate:value":a[6]||(a[6]=s=>t.value.dialog.bottom=s),min:-100,max:100,step:1},null,8,["value"]),e("span",null,g(t.value.dialog.bottom),1)])]),e("div",Ge,[Me,e("div",Te,[o(U,{value:t.value.dialog.left,"onUpdate:value":a[7]||(a[7]=s=>t.value.dialog.left=s),min:-100,max:100,step:1},null,8,["value"]),e("span",null,g(t.value.dialog.left),1)])]),e("div",ze,[Ke,e("div",Qe,[o(U,{value:t.value.dialog.width,"onUpdate:value":a[8]||(a[8]=s=>t.value.dialog.width=s),min:50,max:100,step:1},null,8,["value"]),e("span",null,g(t.value.dialog.width),1)])]),We,Ze,e("div",Je,[Xe,o(I,{value:t.value.name_tag_number,"onUpdate:value":a[9]||(a[9]=s=>t.value.name_tag_number=s),list:[1,2],name:"name_tag"},null,8,["value"])]),e("div",Ye,[es,o(I,{value:t.value.name_tag_solo_show,"onUpdate:value":a[10]||(a[10]=s=>t.value.name_tag_solo_show=s),list:[{id:!1,name:"非表示"},{id:!0,name:"表示"}],name:"name_tag_solo_show"},null,8,["value"])]),F(e("div",ss,[ts,e("div",as,[os,o(I,{value:t.value.name_tag_solo_right,"onUpdate:value":a[11]||(a[11]=s=>t.value.name_tag_solo_right=s),list:f,name:"name_tag_solo_right"},null,8,["value"])]),e("div",ls,[ns,o(I,{value:t.value.name_tag_hero_right,"onUpdate:value":a[12]||(a[12]=s=>t.value.name_tag_hero_right=s),list:f,name:"name_tag_hero_right"},null,8,["value"])]),e("div",ps,[us,o(I,{value:t.value.name_tag_sprite_1_right,"onUpdate:value":a[13]||(a[13]=s=>t.value.name_tag_sprite_1_right=s),list:f,name:"name_tag_sprite_1_right"},null,8,["value"])]),e("div",_s,[is,o(I,{value:t.value.name_tag_sprite_2_right,"onUpdate:value":a[14]||(a[14]=s=>t.value.name_tag_sprite_2_right=s),list:f,name:"name_tag_sprite_2_right"},null,8,["value"])])],512),[[G,t.value.name_tag_number===2]]),(h(),b(S,null,R(2,s=>F(e("div",ds,[e("h5",cs,"名札"+g(s),1),e("div",rs,[vs,e("div",gs,[o(C,{data:{path:t.value["name_tag_"+s].path},draggable:!1,onUpload:l=>t.value["name_tag_"+s].path=l.path,onDel:l=>t.value["name_tag_"+s].path="",onFancy:a[15]||(a[15]=l=>r("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",hs,[ms,e("div",fs,[o(U,{value:t.value["name_tag_"+s].bottom,"onUpdate:value":l=>t.value["name_tag_"+s].bottom=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(t.value["name_tag_"+s].bottom),1)])]),e("div",bs,[Us,e("div",ys,[o(U,{value:t.value["name_tag_"+s].left,"onUpdate:value":l=>t.value["name_tag_"+s].left=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(t.value["name_tag_"+s].left),1)])]),e("div",$s,[ws,e("div",Is,[o(U,{value:t.value["name_tag_"+s].height,"onUpdate:value":l=>t.value["name_tag_"+s].height=l,min:1,max:20,step:.5},null,8,["value","onUpdate:value"]),e("span",null,g(t.value["name_tag_"+s].height),1)])])],512),[[G,s===1||s===2&&t.value.name_tag_number===2]])),64)),Ds,xs,e("div",ks,[Fs,o(I,{value:t.value.sprite_number,"onUpdate:value":a[16]||(a[16]=s=>t.value.sprite_number=s),list:[1,2],name:"sprite"},null,8,["value"])]),(h(),b(S,null,R(2,s=>F(e("div",Cs,[e("h5",Ss,"立ち絵"+g(s),1),e("div",Rs,[Bs,e("div",As,[o(C,{data:{path:t.value["sprite_"+s].mask},draggable:!1,onUpload:l=>t.value["sprite_"+s].mask=l.path,onDel:l=>t.value["sprite_"+s].mask="",onFancy:a[17]||(a[17]=l=>r("fancy",l))},null,8,["data","onUpload","onDel"])])]),e("div",Vs,[Ls,e("div",Ns,[o(U,{value:t.value["sprite_"+s].top,"onUpdate:value":l=>t.value["sprite_"+s].top=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(t.value["sprite_"+s].top),1)])]),e("div",js,[Es,e("div",Ps,[o(U,{value:t.value["sprite_"+s].left,"onUpdate:value":l=>t.value["sprite_"+s].left=l,min:-100,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(t.value["sprite_"+s].left),1)])]),e("div",Hs,[Os,e("div",qs,[o(U,{value:t.value["sprite_"+s].width,"onUpdate:value":l=>t.value["sprite_"+s].width=l,min:20,max:100,step:1},null,8,["value","onUpdate:value"]),e("span",null,g(t.value["sprite_"+s].width),1)])])],512),[[G,s===1||s===2&&t.value.sprite_number===2]])),64)),e("div",{class:"popup_foot"},[e("button",{class:"popup_foot_button",onClick:q},"保存"),Gs])])])])])),[[k,i.open]])}}},Ts=L(Ms,[["__scopeId","data-v-14057371"]]),N=i=>(ne("data-v-5711d6bc"),i=i(),pe(),i),zs={class:"resource_container"},Ks={class:"resource"},Qs=["onClick"],Ws=["onClick"],Zs={class:"resource_footer"},Js={class:"resource_group !flex-wrap !gap-x-5"},Xs={class:"resource_group"},Ys=N(()=>e("span",null,"デフォルトUI",-1)),et=N(()=>e("option",{value:""},"なし",-1)),st={class:"resource_group"},tt=N(()=>e("span",null,"CGのUI設定",-1)),at=N(()=>e("option",{value:""},"固定なし",-1)),ot={__name:"UI",setup(i){const $=se(),{newUI:m}=$,{defaultUI:r,defaultUIForCG:v,uiList:u}=te($),{copyObject:y,findData:_,findIndex:B}=ae(),{delItem:A,uploadItem:j,getDrag:E,dragItem:P,dropItem:H,fancy:x,setFancy:K,changeFancy:O}=oe(),Q=z(()=>E(u.value)),t=z(()=>_(u.value,x.value)),w=W({open:!1,id:""}),f=W({open:!1,value:""}),q=c=>{const a=y(u.value[c]);a.id=m(u.value),u.value.splice(c,0,a)},V=c=>{w.id=c,w.open=!0};return(c,a)=>{var k;return h(),b("div",zs,[e("div",Ks,[(h(!0),b(S,null,R(n(u)??[],(s,l)=>(h(),le(C,{key:s.id,data:s,hasDrag:Q.value,onDrag:d=>n(P)(n(u),...d,l),onDrop:d=>n(H)(n(u),d,l+1),onFancy:d=>n(K)(n(u),s.id,"id"),onAdd:d=>n(j)(n(u),l+1,[d]),onDel:d=>n(A)(n(u),l)},{image:D(()=>[o(M,{class:"hover:opacity-75",data:s,edit:!0},null,8,["data"])]),button:D(()=>[e("label",{class:"resource_button",onClick:d=>q(l),title:"コピー"},[o(Ue,{class:"mt-0.5"})],8,Qs),e("label",{class:"resource_button",onClick:d=>V(s.id),title:"編集"},[o(ue,{class:"mt-0.5"})],8,Ws)]),_:2},1032,["data","hasDrag","onDrag","onDrop","onFancy","onAdd","onDel"]))),128))]),e("div",Zs,[e("div",Js,[e("label",Xs,[Ys,o(J,{class:"resource_select",value:n(r),"onUpdate:value":a[0]||(a[0]=s=>Z(r)?r.value=s:null),options:n(u)},{default:D(()=>[et]),_:1},8,["value","options"])]),e("label",st,[tt,o(J,{class:"resource_select",value:n(v),"onUpdate:value":a[1]||(a[1]=s=>Z(v)?v.value=s:null),options:n(u)},{default:D(()=>[at]),_:1},8,["value","options"])])]),e("label",{class:"resource_plus",onClick:a[2]||(a[2]=s=>V("add")),title:"新規"},[o(n(Y))])]),o(Ts,{open:w.open,"onUpdate:open":a[3]||(a[3]=s=>w.open=s),id:w.id,onFancy:a[4]||(a[4]=s=>{f.value=s,f.open=!0})},null,8,["open","id"]),o(X,{open:f.open,"onUpdate:open":a[5]||(a[5]=s=>f.open=s)},{default:D(()=>[o(ce,{src:f.value},null,8,["src"])]),_:1},8,["open"]),o(X,{open:n(x).open,"onUpdate:open":a[6]||(a[6]=s=>n(x).open=s),index:n(x).index,length:(k=n(u))==null?void 0:k.length,onPrev:a[7]||(a[7]=s=>n(O)(n(u),-1,"id")),onNext:a[8]||(a[8]=s=>n(O)(n(u),1,"id"))},{default:D(()=>[o(M,{data:t.value,large:!0,edit:!0},null,8,["data"])]),_:1},8,["open","index","length"])])}}},gt=L(ot,[["__scopeId","data-v-5711d6bc"]]);export{gt as default};
