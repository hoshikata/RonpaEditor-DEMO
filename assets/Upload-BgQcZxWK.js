import{a as b}from"./IconDelete-DMDfa-16.js";import{l as h,_ as L,p as U,o as r,c as d,w as _,b as g,d as m,a as u,n as y}from"./index-dKBv-Hpv.js";function x(){const{findData:l}=h(),i=(e,t)=>{const s=t.replace(/\s/g,"").toLowerCase().split(","),a=e.name.slice(e.name.lastIndexOf(".")).toLowerCase();return t!==""?s.includes(a):!0},c=e=>e instanceof Blob;return{isFileType:i,isBlobFile:c,blobUrl:(e,t)=>{const s=a=>a.slice(-1)==="/"?"":a;return c(e)?URL.createObjectURL(e):s(t??"")},getFileName:e=>{var s;e=e??"";const t=(s=e.lastIndexOf)==null?void 0:s.call(e,"/");return c(e)||t===-1?e:e.slice(t).slice(1)},getFilesData:(e,t)=>{const s=t.filter(o=>!o.id),a=e.filter(o=>!l(t,o.id)).map(o=>o.name),f=e.filter(o=>l(t,o.id));return{addList:s,delList:a,resultList:f}}}}const B={class:"upload_input"},F={class:"upload_image"},C=["src"],I={__name:"Upload",props:{value:{type:[String],default:""},type:{type:[String],default:"contain"},disabled:{type:[Boolean],default:!1}},emits:["update:value"],setup(l,{emit:i}){const{blobUrl:c}=x(),n=i,p=e=>{const t=e.target.files[0],s=c(t,"");console.log(t.path),n("update:value",s)},v=()=>n("update:value","");return(e,t)=>{const s=U("visible");return r(),d("div",{class:y(["upload",{"pointer-events-none":l.disabled}])},[_((r(),d("label",B,[g(m(b)),u("input",{class:"hidden",onChange:p,type:"file",accept:"image/*"},null,32)])),[[s,!l.value]]),_((r(),d("div",F,[u("img",{class:y(["size-full",l.type==="cover"?"object-cover":"object-contain"]),src:l.value},null,10,C),u("button",{class:"upload_remove",onClick:v,title:"削除画像"},[g(m(b),{class:"rotate-45"})])])),[[s,l.value]])],2)}}},k=L(I,[["__scopeId","data-v-9dcdfae1"]]);export{k as U};
