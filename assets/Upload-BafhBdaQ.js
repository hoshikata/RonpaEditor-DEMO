import{a as v}from"./IconDelete-CiV-FiI4.js";import{_ as h}from"./Image-DvWA8E0Z.js";import{m as U,_ as B,q as L,o as d,c as p,w as b,e as m,d as g,a as y,n as _}from"./index-DBHXhL4u.js";function x(){const{findData:l}=U(),r=(e,s)=>{const t=s.replace(/\s/g,"").toLowerCase().split(","),a=e.name.slice(e.name.lastIndexOf(".")).toLowerCase();return s!==""?t.includes(a):!0},i=e=>e instanceof Blob;return{isFileType:r,isBlobFile:i,blobUrl:(e,s)=>{const t=a=>a.slice(-1)==="/"?"":a;return i(e)?URL.createObjectURL(e):t(s??"")},getFileName:e=>{var t;e=e??"";const s=(t=e.lastIndexOf)==null?void 0:t.call(e,"/");return i(e)||s===-1?e:e.slice(s).slice(1)},getFilesData:(e,s)=>{const t=s.filter(o=>!o.id),a=e.filter(o=>!l(s,o.id)).map(o=>o.name),c=e.filter(o=>l(s,o.id));return{addList:t,delList:a,resultList:c}}}}const F={class:"upload_input"},C=["accept","multiple"],I={class:"upload_image"},w={__name:"Upload",props:{value:{type:[String],default:""},name:{type:[String],default:""},type:{type:[String],default:"contain"},accept:{type:[String],default:"image/*"},multiple:{type:[Boolean],default:!1},disabled:{type:[Boolean],default:!1}},emits:["update:value","update:name","upload"],setup(l,{emit:r}){const{blobUrl:i}=x(),f=l,n=r,u=t=>window.electron?t.path:i(t,""),e=t=>{const a=t.target.files;if(f.multiple){const c=[...a].map(o=>({path:u(o),name:o.name}));n("upload",c)}else{const c=u(a[0]);n("update:value",c),n("update:name",a[0].name),n("upload",{path:c,name:a[0].name})}},s=()=>n("update:value","");return(t,a)=>{const c=L("visible");return d(),p("div",{class:_(["upload",{"pointer-events-none":l.disabled}])},[b((d(),p("label",F,[m(g(v)),y("input",{class:"hidden",onChange:e,type:"file",accept:l.accept,multiple:l.multiple},null,40,C)])),[[c,!l.value]]),b((d(),p("div",I,[m(h,{class:_(["size-full",l.type==="cover"?"object-cover":"object-contain"]),src:l.value},null,8,["src","class"]),y("button",{class:"upload_remove",onClick:s,title:"削除画像"},[m(g(v),{class:"rotate-45"})])])),[[c,l.value]])],2)}}},k=B(w,[["__scopeId","data-v-bcceb412"]]);export{k as U};
